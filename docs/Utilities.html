
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Utilities package &#8212; Tropical Cyclone Risk Model 2.0. documentation</title>
    
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0.',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Glossary" href="glossary.html" />
    <link rel="prev" title="Contributing code" href="contributing.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="glossary.html" title="Glossary"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="contributing.html" title="Contributing code"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">TCRM User Guide</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="utilities-package">
<h1>Utilities package<a class="headerlink" href="#utilities-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-Utilities">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-Utilities" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-Utilities.Intersections">
<span id="utilities-intersections-module"></span><h2>Utilities.Intersections module<a class="headerlink" href="#module-Utilities.Intersections" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-Intersections">
<span id="intersections-determine-line-intersections-for-polygons-and-lines"></span><h3><a class="reference internal" href="#module-Intersections" title="Intersections: Functions to determine line intersections for polygons and line features."><code class="xref py py-mod docutils literal"><span class="pre">Intersections</span></code></a> – determine line intersections for polygons and lines<a class="headerlink" href="#module-Intersections" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="Utilities.Intersections.Crossings">
<em class="property">class </em><code class="descname">Crossings</code><a class="headerlink" href="#Utilities.Intersections.Crossings" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Determine if a a line intersects some other geometric feature
(another line, a circle, a polygon).</p>
<dl class="method">
<dt id="Utilities.Intersections.Crossings.CircleLine">
<code class="descname">CircleLine</code><span class="sig-paren">(</span><em>c</em>, <em>r</em>, <em>a1</em>, <em>a2</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.Intersections.Crossings.CircleLine" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the intersection points of a circle and a line segment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>c</strong> – <code class="xref py py-class docutils literal"><span class="pre">Point</span></code> object describing the centre of the circle.</li>
<li><strong>r</strong> – Eadius of the circle in map units.</li>
<li><strong>a1</strong> – <code class="xref py py-class docutils literal"><span class="pre">Point</span></code> object describing the start of the line segment.</li>
<li><strong>a2</strong> – <code class="xref py py-class docutils literal"><span class="pre">Point</span></code> object describing the end of the line segment.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">Intersection</span></code> object with the
<code class="xref py py-attr docutils literal"><span class="pre">Intersection.status</span></code> updated. “Inside” means the line
segment is wholly contained within the circle; “Outside”
means the line segment is wholly outside the circle;
“Intersection” means the line intersects the circle. In this
final case, the <code class="xref py py-attr docutils literal"><span class="pre">points</span></code> attribute of the
<code class="xref py py-class docutils literal"><span class="pre">Intersection</span></code> object is populated with a
<code class="xref py py-class docutils literal"><span class="pre">Point</span></code> object of the location of the intersection.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Utilities.Intersections.Crossings.CirclePolygon">
<code class="descname">CirclePolygon</code><span class="sig-paren">(</span><em>c</em>, <em>r</em>, <em>points</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.Intersections.Crossings.CirclePolygon" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the intersection points of a circle and a polygon.
Uses <code class="xref py py-func docutils literal"><span class="pre">Crossings.CircleLine()</span></code> on each line segment in the
polygon to determine if the two features intersect.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>c</strong> – <code class="xref py py-class docutils literal"><span class="pre">Point</span></code> representing the centre of the circle.</li>
<li><strong>r</strong> – Radius of the circle in map units.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Paran points:</th><td class="field-body"><p class="first">Array of <code class="xref py py-class docutils literal"><span class="pre">Point</span></code> objects representing the
polygon.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">Intersection</span></code> object with updated status and points
attributes.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Utilities.Intersections.Crossings.LineLine">
<code class="descname">LineLine</code><span class="sig-paren">(</span><em>a1</em>, <em>a2</em>, <em>b1</em>, <em>b2</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.Intersections.Crossings.LineLine" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if two line segments intersect.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>a1</strong> – Starting <code class="xref py py-class docutils literal"><span class="pre">Point</span></code> of line 1.</li>
<li><strong>a2</strong> – Ending <code class="xref py py-class docutils literal"><span class="pre">Point</span></code> of line 1.</li>
<li><strong>b1</strong> – Starting <code class="xref py py-class docutils literal"><span class="pre">Point</span></code> of line 2.</li>
<li><strong>b2</strong> – Ending <code class="xref py py-class docutils literal"><span class="pre">Point</span></code> of line 2.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">Intersection</span></code> object with <code class="xref py py-attr docutils literal"><span class="pre">status</span></code> set to
<code class="docutils literal"><span class="pre">Intersection</span></code> if the lines intersect, <code class="docutils literal"><span class="pre">Coincident</span></code>
if the lines overlap, <code class="docutils literal"><span class="pre">Parallel</span></code> if the lines are
parallel or <code class="docutils literal"><span class="pre">No</span> <span class="pre">Intersection</span></code> if the lines do not
intersect. If the lines intersect, then the
<code class="xref py py-attr docutils literal"><span class="pre">points</span></code> attribute is set to the location of the
intersection.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Utilities.Intersections.Crossings.LinePolygon">
<code class="descname">LinePolygon</code><span class="sig-paren">(</span><em>a1</em>, <em>a2</em>, <em>points</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.Intersections.Crossings.LinePolygon" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if a line intersects a polygon.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>a1</strong> – Starting <code class="xref py py-class docutils literal"><span class="pre">Point</span></code> of the line.</li>
<li><strong>a2</strong> – Ending <code class="xref py py-class docutils literal"><span class="pre">Point</span></code> of the line.</li>
<li><strong>points</strong> – Collection of <code class="xref py py-class docutils literal"><span class="pre">Point</span></code> objects that
represent the vertices of a polygon.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Utilities.Intersections.Crossings.lerp">
<code class="descname">lerp</code><span class="sig-paren">(</span><em>a1</em>, <em>a2</em>, <em>u</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.Intersections.Crossings.lerp" title="Permalink to this definition">¶</a></dt>
<dd><p>Linear interpolation between two points:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>a1</strong> – First <code class="xref py py-class docutils literal"><span class="pre">Point</span></code>.</li>
<li><strong>a2</strong> – Second <code class="xref py py-class docutils literal"><span class="pre">Point</span></code>.</li>
<li><strong>u</strong> – Fractional distance along the line between the two points.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Coordinates of the interpolated point as a tuple.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Utilities.Intersections.Intersection">
<em class="property">class </em><code class="descname">Intersection</code><span class="sig-paren">(</span><em>state=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.Intersections.Intersection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>An Intersection object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>state</strong> (<em>str</em>) – Initial state of the <code class="xref py py-class docutils literal"><span class="pre">Intersection</span></code> (default <code class="docutils literal"><span class="pre">None</span></code>).</td>
</tr>
</tbody>
</table>
<p>Parameters: None
Members: status (string) and points (list)
Methods: None
Internal Methods: None</p>
</dd></dl>

<dl class="class">
<dt id="Utilities.Intersections.Point">
<em class="property">class </em><code class="descname">Point</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.Intersections.Point" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Class representation for a Point
Contains x and y members
Created by Geoff Xu, 2006</p>
<dl class="method">
<dt id="Utilities.Intersections.Point.getX">
<code class="descname">getX</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.Intersections.Point.getX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Utilities.Intersections.Point.getY">
<code class="descname">getY</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.Intersections.Point.getY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="Utilities.Intersections.convert2vertex">
<code class="descname">convert2vertex</code><span class="sig-paren">(</span><em>a1</em>, <em>a2</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.Intersections.convert2vertex" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts 2 1D arrays into a list of <code class="xref py py-class docutils literal"><span class="pre">Points</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>a1</strong> – ordinate</li>
<li><strong>a2</strong> – abscissa</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">List of <code class="xref py py-class docutils literal"><span class="pre">Point</span></code> objects.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.Intersections.inLand">
<code class="descname">inLand</code><span class="sig-paren">(</span><em>P</em>, <em>V</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.Intersections.inLand" title="Permalink to this definition">¶</a></dt>
<dd><p>Test to see if a point is within the list of vertices.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>P</strong> – <code class="xref py py-class docutils literal"><span class="pre">Point</span></code> object.</li>
<li><strong>V</strong> – List of <code class="xref py py-class docutils literal"><span class="pre">Point</span></code> objects that represent vertices of
the shape to be tested. Must be a closed set.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">True</span></code> if the point lies inside the vertices, <code class="docutils literal"><span class="pre">False</span></code>
otherwise.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">boolean</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.colours">
<span id="utilities-colours-module"></span><h2>Utilities.colours module<a class="headerlink" href="#module-Utilities.colours" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-colours">
<span id="colours-add-custom-colour-scales"></span><h3><a class="reference internal" href="#module-colours" title="colours: Create customised colour maps that are more palatable and/or suitable for plotting data. To access the additional colour maps, simply import this module, then call pyplot.get_cmap(&lt;new_cmap_name&gt;) to get the new colour map. See the matplotlib examples pages for more details: http://matplotlib.org/examples/pylab_examples/custom_cmap.html"><code class="xref py py-mod docutils literal"><span class="pre">colours</span></code></a> - add custom colour scales<a class="headerlink" href="#module-colours" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="module-Utilities.columns">
<span id="utilities-columns-module"></span><h2>Utilities.columns module<a class="headerlink" href="#module-Utilities.columns" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-columns">
<span id="columns-load-delimited-data-files"></span><h3><a class="reference internal" href="#module-columns" title="columns: Load csv formatted data into a numpy array"><code class="xref py py-mod docutils literal"><span class="pre">columns</span></code></a> – load delimited data files<a class="headerlink" href="#module-columns" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="Utilities.columns.colReadCSV">
<code class="descname">colReadCSV</code><span class="sig-paren">(</span><em>configFile</em>, <em>dataFile</em>, <em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.columns.colReadCSV" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a csv file containing ‘column’ data into a record (numpy)
array with columns labelled by ‘fields’. There must be a section in
the <code class="docutils literal"><span class="pre">configFile</span></code> named <code class="docutils literal"><span class="pre">source</span></code> that sets out the format of the
data file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>configFile</strong> (<em>str</em>) – Path to a configuration file that holds details
of the input data.</li>
<li><strong>dataFile</strong> (<em>str</em>) – Path to the input file to load.</li>
<li><strong>source</strong> (<em>str</em>) – Name of the source format. There must be a
corresponding section in the <code class="docutils literal"><span class="pre">configFile</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> that contains the input data.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.config">
<span id="utilities-config-module"></span><h2>Utilities.config module<a class="headerlink" href="#module-Utilities.config" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-config">
<span id="config-reading-configuration-files"></span><h3><a class="reference internal" href="#module-config" title="config: Provides functions for manipulating configuration files e.g. reading setting from a configuration file."><code class="xref py py-mod docutils literal"><span class="pre">config</span></code></a> – reading configuration files<a class="headerlink" href="#module-config" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="Utilities.config.ConfigParser">
<code class="descname">ConfigParser</code><span class="sig-paren">(</span><em>defaults=”\n[Actions]\nDataProcess=True\nExecuteStat=True\nExecuteTrackGenerator=True\nExecuteWindfield=True\nExecuteHazard=True\nExecuteEvaluate=True\nPlotData=True\nPlotHazard=True\nCreateDatabase=True\nDownloadData=True\n\n[Region]\ngridSpace={‘x’:1.0</em>, <em>’y’:1.0}\ngridInc={‘x’:1.0</em>, <em>’y’:0.5}\n\n[DataProcess]\nStartSeason=1981\nFilterSeasons=True\nInputFile=Allstorms.ibtracs_wmo.v03r05.csv\nSource=IBTRACS\n\n[StatInterface]\nkdeType=Gaussian\nkde2DType=Gaussian\nkdeStep=0.2\nminSamplesCell=100\n\n[TrackGenerator]\nNumSimulations=500\nNumTimeSteps=360\nTimeStep=1.0\nFormat=csv\nSeasonSeed=1\nTrackSeed=1\n\n[WindfieldInterface]\nprofileType=holland\nwindFieldType=kepert\nbeta=1.3\nbeta1=1.3\nbeta2=1.3\nthetaMax=70.0\nMargin=2\nResolution=0.05\nPlotOutput=False\nDomain=bounded\n\n[Hazard]\nYears=2</em>, <em>5</em>, <em>10</em>, <em>20</em>, <em>25</em>, <em>50</em>, <em>100</em>, <em>200</em>, <em>250</em>, <em>500</em>, <em>1000\nMinimumRecords=50\nCalculateCI=True\nPercentileRange=90\nSampleSize=50\nPlotSpeedUnits=mps\n\n[RMW]\nGetRMWDistFromInputData=False\n\n[Input]\nLocationFile=input/stationlist.shp\nLandMask=input/landmask.nc\nMSLPFile=MSLP/slp.day.ltm.nc\nDatasets=IBTRACS</em>, <em>LTMSLP\n\n[Output]\nPath=output\nFormat=txt\n\n[Logging]\nProgressBar=False\nLogFile=main.log\nLogLevel=INFO\nVerbose=False\nDatestamp=False\n\n[Source]\nFieldDelimiter=</em>, <em>\nNumberOfHeadingLines=0\nSpeedUnits=mps\nPressureUnits=hPa\nLengthUnits=km\n\n[IBTRACS]\nURL=ftp://eclipse.ncdc.noaa.gov/pub/ibtracs/v03r05/wmo/csv/Allstorms.ibtracs_wmo.v03r05.csv.gz\npath=input\nfilename=Allstorms.ibtracs_wmo.v03r05.csv\nColumns=tcserialno</em>, <em>season</em>, <em>num</em>, <em>skip</em>, <em>skip</em>, <em>skip</em>, <em>date</em>, <em>skip</em>, <em>lat</em>, <em>lon</em>, <em>skip</em>, <em>pressure\nFieldDelimiter=</em>, <em>\nNumberOfHeadingLines=3\nPressureUnits=hPa\nLengthUnits=km\nDateFormat=%Y-%m-%d %H:%M:%S\nSpeedUnits=kph\n\n[LTMSLP]\nURL=ftp://ftp.cdc.noaa.gov/Datasets/ncep.reanalysis.derived/surface/slp.day.1981-2010.ltm.nc\npath=MSLP\nfilename=slp.day.ltm.nc\n\n”</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.config.ConfigParser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="Utilities.config.cnfGetIniValue">
<code class="descname">cnfGetIniValue</code><span class="sig-paren">(</span><em>configFile</em>, <em>section</em>, <em>option</em>, <em>default=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.config.cnfGetIniValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to interface with code that uses the
old config parser.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>configFile</strong> (<em>str</em>) – path to the configuration file to read.</li>
<li><strong>section</strong> (<em>str</em>) – Section name to read.</li>
<li><strong>option</strong> (<em>str</em>) – Option name to read.</li>
<li><strong>default</strong> – Optional default value to use if the section/option
pair is not present in the file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Value recorded in the section/option of the config file, if
present; the default value otherwise (if defined).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><strong>NoSectionError</strong><strong>, </strong><strong>NoOptionError</strong> – if the section/option is not
defined, and no default value given.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.config.formatList">
<code class="descname">formatList</code><span class="sig-paren">(</span><em>lst</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.config.formatList" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a list into a comma-joined string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lst</strong> (<em>list</em>) – Input list to join.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A string comprised of the list elements joined by commas.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.config.parseBool">
<code class="descname">parseBool</code><span class="sig-paren">(</span><em>txt</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.config.parseBool" title="Permalink to this definition">¶</a></dt>
<dd><p>Parser for boolean options</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>txt</strong> (<em>str</em>) – String from config file to parse.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><code class="docutils literal"><span class="pre">True</span></code> if the string is ‘True’, <code class="docutils literal"><span class="pre">False</span></code> otherwise.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.config.parseList">
<code class="descname">parseList</code><span class="sig-paren">(</span><em>txt</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.config.parseList" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a comma-separated line into a list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>txt</strong> (<em>str</em>) – String from config file to parse.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List, based on the input string.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.confjson">
<span id="utilities-confjson-module"></span><h2>Utilities.confjson module<a class="headerlink" href="#module-Utilities.confjson" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="Utilities.confjson.StrictConfigParser">
<em class="property">class </em><code class="descname">StrictConfigParser</code><span class="sig-paren">(</span><em>defaults=None</em>, <em>dict_type=&lt;class ‘collections.OrderedDict’&gt;</em>, <em>allow_no_value=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.confjson.StrictConfigParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">ConfigParser.ConfigParser</span></code></p>
<dl class="method">
<dt id="Utilities.confjson.StrictConfigParser.dget">
<code class="descname">dget</code><span class="sig-paren">(</span><em>section</em>, <em>option</em>, <em>default=None</em>, <em>type=&lt;type ‘str’&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.confjson.StrictConfigParser.dget" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="Utilities.confjson.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.confjson.flatten" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-Utilities.convolve">
<span id="utilities-convolve-module"></span><h2>Utilities.convolve module<a class="headerlink" href="#module-Utilities.convolve" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-convolve">
<span id="convolve-convolve-two-2-d-fields"></span><h3><a class="reference internal" href="#module-convolve" title="convolve: Convolve two 2-d fields to apply a smoother (e.g. directional filtering, gaussian smoother)."><code class="xref py py-mod docutils literal"><span class="pre">convolve</span></code></a> – convolve two 2-d fields<a class="headerlink" href="#module-convolve" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="Utilities.convolve.convolve">
<code class="descname">convolve</code><span class="sig-paren">(</span><em>im</em>, <em>direction</em>, <em>mtype=’terrain’</em>, <em>res=25.0</em>, <em>height=5.0</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.convolve.convolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Smooth a 2D array im by convolving with a kernel of size n.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>im</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – 2-d array of values to be smoothed.</li>
<li><strong>dir</strong> (<em>str</em>) – One of ‘N’,’NE’,’E’,’SE’,’S’,’SW’,’W’,’NW’ to define the
direction of the site multiplier to evaluate.</li>
<li><strong>mtype</strong> (<em>str</em>) – Model type = either “terrain” or “shield”.</li>
<li><strong>res</strong> (<em>float</em>) – Resolution of the input grid dataset.</li>
<li><strong>height</strong> (<em>float</em>) – nominal height of the buildings to be used in
evaluating the shielding multiplier.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">2-d array of convolved data (convolved with the appropriate
kernel). The output array is the same size as the input array,
with boundary values set to be filled to a value of 1.0</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.convolve.getKernel">
<code class="descname">getKernel</code><span class="sig-paren">(</span><em>d</em>, <em>mtype</em>, <em>res=25.0</em>, <em>height=5.0</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.convolve.getKernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Define an appropriate kernel for smoothing the data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>d</strong> (<em>str</em>) – Wind direction - one of [‘N’,’NE’,’E’,’SE’,’S’,’SW’,’W’,’NW’]</li>
<li><strong>m</strong> (<em>str</em>) – Multiplier type - either ‘terrain’ or ‘shield’</li>
<li><strong>res</strong> (<em>float</em>) – Resolution of the dataset (in metres) (default is 25)</li>
<li><strong>height</strong> (<em>float</em>) – Nominal height of buildings, for use in evaluating the
shielding multiplier (default is 5)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">kernel to apply to the raw multiplier values to generate
directional multiplier values.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">2-d <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.datasets">
<span id="utilities-datasets-module"></span><h2>Utilities.datasets module<a class="headerlink" href="#module-Utilities.datasets" title="Permalink to this headline">¶</a></h2>
<div class="section" id="datasets-manage-downloaded-datasets">
<h3><code class="xref py py-mod docutils literal"><span class="pre">datasets</span></code> – manage downloaded datasets<a class="headerlink" href="#datasets-manage-downloaded-datasets" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="Utilities.datasets.DataSet">
<em class="property">class </em><code class="descname">DataSet</code><span class="sig-paren">(</span><em>name</em>, <em>url</em>, <em>path</em>, <em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.datasets.DataSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Download a dataset from a url, store in a specified path with a
given filename.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<em>str</em>) – Name of the dataset to be downloaded.</li>
<li><strong>url</strong> (<em>str</em>) – URL of the dataset.</li>
<li><strong>path</strong> (<em>str</em>) – path name for the storage location of the dataset</li>
<li><strong>filename</strong> (<em>str</em><em> or </em><em>None</em>) – name of the file to be saved (can be different from
the name of the dataset).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="Utilities.datasets.DataSet.download">
<code class="descname">download</code><span class="sig-paren">(</span><em>callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.datasets.DataSet.download" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute the download of the dataset. If the dataset
has already been downloaded (the <a class="reference internal" href="#Utilities.datasets.DataSet.isDownloaded" title="Utilities.datasets.DataSet.isDownloaded"><code class="xref py py-attr docutils literal"><span class="pre">isDownloaded</span></code></a> will be set
to True), then don’t try to download.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>callback</strong> (<em>function</em>) – Callback function (for reporting status to STDOUT).</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>IOError</strong> – Unable to download the dataset.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Utilities.datasets.DataSet.isDownloaded">
<code class="descname">isDownloaded</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.datasets.DataSet.isDownloaded" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if a file has already been downloaded</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>True</cite> if the file exists, <cite>False</cite> otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="Utilities.datasets.checkAndDownload">
<code class="descname">checkAndDownload</code><span class="sig-paren">(</span><em>callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.datasets.checkAndDownload" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the <code class="xref py py-data docutils literal"><span class="pre">DATASETS</span></code> list and download each, if it
has not previously been downoladed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>callback</strong> (<em>function</em>) – Callback function (for reporting status to STDOUT).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.datasets.loadDatasets">
<code class="descname">loadDatasets</code><span class="sig-paren">(</span><em>configFile</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.datasets.loadDatasets" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the details of the datasets to be downloaded from the
configuration settings. This updates the <code class="xref py py-data docutils literal"><span class="pre">DATASETS</span></code>
list.</p>
</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.files">
<span id="utilities-files-module"></span><h2>Utilities.files module<a class="headerlink" href="#module-Utilities.files" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="Utilities.files.WindowsError">
<em class="property">exception </em><code class="descname">WindowsError</code><a class="headerlink" href="#Utilities.files.WindowsError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.OSError</span></code></p>
</dd></dl>

<dl class="function">
<dt id="Utilities.files.flConfigFile">
<code class="descname">flConfigFile</code><span class="sig-paren">(</span><em>extension=’.ini’</em>, <em>prefix=”</em>, <em>level=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.files.flConfigFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a configuration filename (default extension .ini) based on the
name and path of the function/module calling this function. Can also
be useful for setting log file names automatically.
If prefix is passed, this is preprended to the filename.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>extension</strong> (<em>str</em>) – file extension to use (default ‘.ini’). The
period (‘.’) must be included.</li>
<li><strong>prefix</strong> (<em>str</em>) – Optional prefix to the filename (default ”).</li>
<li><strong>level</strong> – Optional level in the stack of the main script
(default = maximum level in the stack).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Full path of calling function/module, with the source file’s
extension replaced with extension, and optionally prefix
inserted after the last path separator.</p>
</td>
</tr>
</tbody>
</table>
<p>Example: configFile = flConfigFile(‘.ini’)
Calling flConfigFile from /foo/bar/baz.py should return /foo/bar/baz.ini</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.files.flGetStat">
<code class="descname">flGetStat</code><span class="sig-paren">(</span><em>filename</em>, <em>CHUNK=65536</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.files.flGetStat" title="Permalink to this definition">¶</a></dt>
<dd><p>Get basic statistics of filename - namely directory, name (excluding
base path), md5sum and the last modified date. Useful for checking
if a file has previously been processed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> (<em>str</em>) – Filename to check.</li>
<li><strong>CHUNK</strong> (<em>int</em>) – (optional) chunk size (for md5sum calculation).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">path, name, md5sum, modification date for the file.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>TypeError</strong> – if the input file is not a string.</li>
<li><strong>IOError</strong> – if the file is not a valid file, or if the file
cannot be opened.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example: dir, name, md5sum, moddate = flGetStat(filename)</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.files.flLoadFile">
<code class="descname">flLoadFile</code><span class="sig-paren">(</span><em>filename</em>, <em>comments=’%’</em>, <em>delimiter=’</em>, <em>’</em>, <em>skiprows=0</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.files.flLoadFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a delimited text file – uses <code class="xref py py-func docutils literal"><span class="pre">numpy.genfromtxt()</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> (<em>file</em><em> or </em><em>str</em>) – File, filename, or generator to read</li>
<li><strong>comments</strong> (<em>str</em><em>, </em><em>optional</em>) – (default ‘%’) indicator</li>
<li><strong>delimiter</strong> (<em>str</em><em>, </em><em>int</em><em> or </em><em>sequence</em><em>, </em><em>optional</em>) – The string used to separate values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.files.flLogFatalError">
<code class="descname">flLogFatalError</code><span class="sig-paren">(</span><em>tblines</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.files.flLogFatalError" title="Permalink to this definition">¶</a></dt>
<dd><p>Log the error messages normally reported in a traceback so that
all error messages can be caught, then exit. The input ‘tblines’
is created by calling <code class="docutils literal"><span class="pre">traceback.format_exc().splitlines()</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tblines</strong> (<em>list</em>) – List of lines from the traceback.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.files.flModDate">
<code class="descname">flModDate</code><span class="sig-paren">(</span><em>filename</em>, <em>dateformat=’%Y-%m-%d %H:%M:%S’</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.files.flModDate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the last modified date of the input file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> (<em>str</em>) – file name (full path).</li>
<li><strong>dateformat</strong> (<em>str</em>) – Format string for the date (default
‘%Y-%m-%d %H:%M:%S’)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">File modification date/time as a string</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<p>Example: modDate = flModDate( ‘C:/foo/bar.csv’ , dateformat=’%Y-%m-%dT%H:%M:%S’ )</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.files.flModuleName">
<code class="descname">flModuleName</code><span class="sig-paren">(</span><em>level=1</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.files.flModuleName" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the name of the module &lt;level&gt; levels above this function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>level</strong> (<em>int</em>) – Level in the stack of the module calling this function
(default = 1, function calling <code class="docutils literal"><span class="pre">flModuleName</span></code>)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Module name.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<p>Example: mymodule = flModuleName( )
Calling flModuleName() from “/foo/bar/baz.py” returns “baz”</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.files.flModulePath">
<code class="descname">flModulePath</code><span class="sig-paren">(</span><em>level=1</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.files.flModulePath" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the path of the module &lt;level&gt; levels above this function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>level</strong> (<em>int</em>) – level in the stack of the module calling this function
(default = 1, function calling <code class="docutils literal"><span class="pre">flModulePath</span></code>)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">path, basename and extension of the file containing the module</td>
</tr>
</tbody>
</table>
<p>Example: path, base, ext = flModulePath( )
Calling flModulePath() from “/foo/bar/baz.py” produces the result
“/foo/bar”, “baz”, “.py”</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.files.flProgramVersion">
<code class="descname">flProgramVersion</code><span class="sig-paren">(</span><em>level=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.files.flProgramVersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the __version__ string from the top-level program, where defined.</p>
<p>If it is not defined, return an empty string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>level</strong> (<em>int</em>) – level in the stack of the main script
(default = maximum level in the stack)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">version string (defined as the <code class="docutils literal"><span class="pre">__version__</span></code> global variable)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.files.flSaveFile">
<code class="descname">flSaveFile</code><span class="sig-paren">(</span><em>filename</em>, <em>data</em>, <em>header=”</em>, <em>delimiter=’</em>, <em>’</em>, <em>fmt=’%.18e’</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.files.flSaveFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Save data to a file.</p>
<p>Does some basic checks to ensure the path exists before attempting
to write the file. Uses <code class="xref py py-class docutils literal"><span class="pre">numpy.savetxt</span></code> to save the data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> (<em>str</em>) – Path to the destination file.</li>
<li><strong>data</strong> – Array data to be written to file.</li>
<li><strong>header</strong> (<em>str</em>) – Column headers (optional).</li>
<li><strong>delimiter</strong> (<em>str</em>) – Field delimiter (default ‘,’).</li>
<li><strong>fmt</strong> (<em>str</em>) – Format statement for writing the data.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.files.flSize">
<code class="descname">flSize</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.files.flSize" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the size of the input file in bytes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>str</em>) – Full path to the file.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">File size in bytes.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
<p>Example: file_size = flSize( ‘C:/foo/bar.csv’ )</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.files.flStartLog">
<code class="descname">flStartLog</code><span class="sig-paren">(</span><em>logFile</em>, <em>logLevel</em>, <em>verbose=False</em>, <em>datestamp=False</em>, <em>newlog=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.files.flStartLog" title="Permalink to this definition">¶</a></dt>
<dd><p>Start logging to logFile all messages of logLevel and higher.
Setting <code class="docutils literal"><span class="pre">verbose=True</span></code> will report all messages to STDOUT as well.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>logFile</strong> (<em>str</em>) – Full path to log file.</li>
<li><strong>logLevel</strong> (<em>str</em>) – String specifiying one of the standard Python logging
levels (‘NOTSET’,’DEBUG’,’INFO’,’WARNING’,’ERROR’,
‘CRITICAL’)</li>
<li><strong>verbose</strong> (<em>boolean</em>) – <code class="docutils literal"><span class="pre">True</span></code> will echo all logging calls to STDOUT</li>
<li><strong>datestamp</strong> (<em>boolean</em>) – <code class="docutils literal"><span class="pre">True</span></code> will include a timestamp of the creation
time in the filename.</li>
<li><strong>newlog</strong> (<em>boolean</em>) – <code class="docutils literal"><span class="pre">True</span></code> will create a new log file each time this
function is called. <code class="docutils literal"><span class="pre">False</span></code> will append to the
existing file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">logging.logger</span></code> object.</p>
</td>
</tr>
</tbody>
</table>
<p>Example: flStartLog(‘/home/user/log/app.log’, ‘INFO’, verbose=True)</p>
</dd></dl>

</div>
<div class="section" id="module-Utilities.grid">
<span id="utilities-grid-module"></span><h2>Utilities.grid module<a class="headerlink" href="#module-Utilities.grid" title="Permalink to this headline">¶</a></h2>
<div class="section" id="grid-read-write-and-sample-ascii-grid-files">
<h3><a class="reference internal" href="#module-grid" title="grid: Read, write and sample ascii grid files."><code class="xref py py-mod docutils literal"><span class="pre">grid</span></code></a> – read, write and sample ascii grid files<a class="headerlink" href="#grid-read-write-and-sample-ascii-grid-files" title="Permalink to this headline">¶</a></h3>
<p>Provide functions to read, write and sample ascii grid files. The
ascii files are assumend to have and ArcGIS GIRD format:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ncols</span>        <span class="n">nx</span>
<span class="n">nrows</span>        <span class="n">ny</span>
<span class="n">xllcorner</span>    <span class="n">xll</span>
<span class="n">yllcorner</span>    <span class="n">yll</span>
<span class="n">cellsize</span>     <span class="n">dx</span>
<span class="n">NODATA_value</span> <span class="o">-</span><span class="mi">9999</span>
<span class="n">data</span> <span class="n">data</span> <span class="n">data</span> <span class="o">...</span>
 <span class="p">:</span>    <span class="p">:</span>    <span class="p">:</span>
 <span class="p">:</span>    <span class="p">:</span>    <span class="p">:</span>
</pre></div>
</div>
<span class="target" id="module-grid"></span><dl class="class">
<dt id="Utilities.grid.SampleGrid">
<em class="property">class </em><code class="descname">SampleGrid</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.grid.SampleGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Sample data from a gridded data file. The class is instantiated
with a gridded data file (either an ascii file or a netcdf file
with single 2-d variable), and the <code class="xref py py-meth docutils literal"><span class="pre">SampleGrid.sampleGrid()</span></code>
method returns the value of the grid point closest to the given
longitude and latitude.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>str</em>) – Path to a file containing gridded data.</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span> <span class="o">=</span> <span class="n">SampleGrid</span><span class="p">(</span> <span class="s1">&#39;/foo/bar/grid.nc&#39;</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">value</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">sampleGrid</span><span class="p">(</span> <span class="mf">100.</span><span class="p">,</span> <span class="o">-</span><span class="mf">25.</span> <span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="Utilities.grid.SampleGrid.sampleGrid">
<code class="descname">sampleGrid</code><span class="sig-paren">(</span><em>lon</em>, <em>lat</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.grid.SampleGrid.sampleGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample a value from the grid at the given cLon, cLat
At this time, does not interplolate from the input grid to the
given location.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lon</strong> (<em>float</em>) – Longitude of the point to sample.</li>
<li><strong>lat</strong> (<em>float</em>) – Latitude of the point to sample.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Value of the nearest grid point to the given lon/lat point.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="Utilities.grid.grdRead">
<code class="descname">grdRead</code><span class="sig-paren">(</span><em>filename</em>, <em>delimiter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.grid.grdRead" title="Permalink to this definition">¶</a></dt>
<dd><p>Read formatted data from an ascii grid format file.
Returns the longitude and latitude of the grid and the data values</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> (<em>str</em>) – Path to an ascii grid format or netcdf file.</li>
<li><strong>delimiter</strong> – Delimiter for the ascii format file (optional).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">longitude, latitude, data</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>Usage:
longitude, latitude, data = grdRead(filename, [delimiter])</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.grid.grdReadFromNetcdf">
<code class="descname">grdReadFromNetcdf</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.grid.grdReadFromNetcdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Read formatted data from a netcdf file.
Returns the longitude and latitude of the grid and the data
values. Assumes that there is only one (non-coordinate) variable
in the file, which is only 2 dimensional.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>str</em>) – Path to a netcdf file to read.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">longitude, latitude and grid data.</td>
</tr>
</tbody>
</table>
<p>Usage:
longitude, latitude, data = grdReadFromNetcdf(filename)</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.grid.grdSave">
<code class="descname">grdSave</code><span class="sig-paren">(</span><em>filename</em>, <em>data</em>, <em>lon</em>, <em>lat</em>, <em>delta</em>, <em>delimiter=’ ‘</em>, <em>nodata=-9999</em>, <em>fmt=’%.10e’</em>, <em>coords=’latlon’</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.grid.grdSave" title="Permalink to this definition">¶</a></dt>
<dd><p>Save formatted data to an ascii grid format file.
The files have 6 header lines describing the data, followed by the
data in a gridded format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> (<em>str</em>) – Path to the file to be written.</li>
<li><strong>data</strong> – 2-d array of data values to store.</li>
<li><strong>lon</strong> – Array of longitudes corresponding to data points.</li>
<li><strong>lat</strong> – Array of latitudes corresponding to data points.</li>
<li><strong>delta</strong> (<em>float</em>) – Spacing between grid points.</li>
<li><strong>delimiter</strong> (<em>str</em>) – Delimiter to put between data points (default ‘ ‘).</li>
<li><strong>nodata</strong> (<em>float</em>) – Value to indicate missing values (default -9999).</li>
<li><strong>fmt</strong> (<em>str</em>) – String format statement.</li>
<li><strong>coords</strong> (<em>str</em>) – Optionally store the data in UTM
coordinates. Default is to store the data in
geographic coordinates (<code class="docutils literal"><span class="pre">coords='latlon'</span></code>).
If <code class="docutils literal"><span class="pre">coords='UTM'</span></code>, then the latitude &amp;
longitudes are converted to the local UTM
coordinate system.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><strong>ValueError</strong> – If the <code class="docutils literal"><span class="pre">filename</span></code> is not a string of file handle.</p>
</td>
</tr>
</tbody>
</table>
<p>Usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">grdSave</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">delta</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">,</span>
<span class="go">            nodata=-9999, fmt=&#39;%.10e, coords=&#39;latlon&#39;)</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.interp3d">
<span id="utilities-interp3d-module"></span><h2>Utilities.interp3d module<a class="headerlink" href="#module-Utilities.interp3d" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-interp3d">
<span id="interp3d-interpolate-to-a-set-of-points-in-3-dimensional-space"></span><h3><a class="reference internal" href="#module-interp3d" title="interp3d: Interpolate data to a set of points in 3-d space."><code class="xref py py-mod docutils literal"><span class="pre">interp3d</span></code></a> – interpolate to a set of points in 3-dimensional space<a class="headerlink" href="#module-interp3d" title="Permalink to this headline">¶</a></h3>
<p>Use <code class="xref py py-func docutils literal"><span class="pre">scipy.ndimage.interpolation.map-coordinates()</span></code> to interpolate
data in three dimensions.</p>
<dl class="function">
<dt id="Utilities.interp3d.interp3d">
<code class="descname">interp3d</code><span class="sig-paren">(</span><em>input_array, coords, scale=[360.0, 180.0, 365.0], offset=[0.0, -90.0, 0.0], prefilter=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.interp3d.interp3d" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper to <code class="xref py py-func docutils literal"><span class="pre">scipy.ndimage.interpolation.map_coordinates()</span></code>, which
converts coordinates of points to indices that correspond to the
array.  We assume that one is working with lon, lat, day data
(i.e. initially designed to work with daily long term mean sea
level pressure)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input_array</strong> – A 3-d array of data at regular intervals,
representing the data to be evaluated.</li>
<li><strong>coords</strong> – A 3-by-n array of coordinates at which the data
in <code class="docutils literal"><span class="pre">input_array</span></code> will be interpolated to.</li>
<li><strong>scale</strong> (<em>list</em>) – A (list of) scale factor(s) that reduces the
<code class="docutils literal"><span class="pre">coords</span></code> values to the range of indices in
<code class="docutils literal"><span class="pre">input_array</span></code>.</li>
<li><strong>offset</strong> (<em>list</em>) – A (list of) offset factor(s) that is
subtracted from the <code class="docutils literal"><span class="pre">coords</span></code> values before
adjusting the <code class="docutils literal"><span class="pre">scale</span></code> (above).</li>
<li><strong>prefilter</strong> (<em>boolean</em>) – If <code class="docutils literal"><span class="pre">True</span></code> (default), then apply a spline
filter before interpolation (necessary for
spline interpolation of order &gt; 1).  If
<code class="docutils literal"><span class="pre">False</span></code>, it is assumed that the input is
already filtered. Default is <code class="docutils literal"><span class="pre">True</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">1-d array of values corresponding to the interpolated
values at the points given in <code class="docutils literal"><span class="pre">coords</span></code>.</p>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">vals</span> <span class="o">=</span> <span class="n">interp3d</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">coords</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="p">[</span><span class="mf">360.</span><span class="p">,</span> <span class="mf">180.</span><span class="p">,</span> <span class="mf">365.</span><span class="p">],</span>
<span class="gp">... </span>                <span class="n">offset</span><span class="o">=</span><span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="o">-</span><span class="mf">90.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.interpTrack">
<span id="utilities-interptrack-module"></span><h2>Utilities.interpTrack module<a class="headerlink" href="#module-Utilities.interpTrack" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-interpTrack">
<span id="interptrack-interpolate-tc-track-to-a-shorter-time-interval"></span><h3><a class="reference internal" href="#module-interpTrack" title="interpTrack: interpolate a TC track to a shorter time interval."><code class="xref py py-mod docutils literal"><span class="pre">interpTrack</span></code></a> – interpolate TC track to a shorter time interval<a class="headerlink" href="#module-interpTrack" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="Utilities.interpTrack.ShowSyntax">
<code class="descname">ShowSyntax</code><span class="sig-paren">(</span><em>exit_code=0</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.interpTrack.ShowSyntax" title="Permalink to this definition">¶</a></dt>
<dd><p>Print basic help information on using this module as a script</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>exit_code</strong> (<em>int</em>) – Exit code.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.interpTrack.interpolateTrack">
<code class="descname">interpolateTrack</code><span class="sig-paren">(</span><em>configFile</em>, <em>trackFile</em>, <em>source</em>, <em>delta=0.1</em>, <em>interpolation_type=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.interpTrack.interpolateTrack" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate the data in a track file to the time interval delta hours.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>configFile</strong> (<em>str</em>) – Configuration file that contains information on the
source format of the track file.</li>
<li><strong>trackFile</strong> (<em>str</em>) – Path to csv format track file.</li>
<li><strong>source</strong> (<em>str</em>) – Name of the data source. There must be a corresponding
section in the configuration file that contains the
description of the data.</li>
<li><strong>delta</strong> (<em>float</em>) – Time interval in hours to interpolate to. Default is
0.1 hours</li>
<li><strong>interpolation_type</strong> (<em>str</em>) – Optionally use Akima or linear
interpolation for the track positions.
Default is linear 1-dimensional spline
interpolation.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">10 arrays (id, time, date, lon, lat, bearing, forward speed,
central pressure, environmental pressure and radius to
maximum wind) that describe the track at <code class="docutils literal"><span class="pre">delta</span></code> hours
intervals.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.interpTrack.main">
<code class="descname">main</code><span class="sig-paren">(</span><em>argv</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.interpTrack.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Main part of the program</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>argv</strong> (<em>list</em>) – List of command line arguments.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.lat_long_UTM_conversion">
<span id="utilities-lat-long-utm-conversion-module"></span><h2>Utilities.lat_long_UTM_conversion module<a class="headerlink" href="#module-Utilities.lat_long_UTM_conversion" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-lat_long_UTM_conversion">
<span id="lat-long-utm-conversion-convert-between-geographic-utm-coordinates"></span><h3><a class="reference internal" href="#module-lat_long_UTM_conversion" title="lat_long_UTM_conversion: Convert from latitude-longitude coordinates to UTM coordinates."><code class="xref py py-mod docutils literal"><span class="pre">lat_long_UTM_conversion</span></code></a> – convert between geographic &amp; UTM coordinates<a class="headerlink" href="#module-lat_long_UTM_conversion" title="Permalink to this headline">¶</a></h3>
<p>Usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">zone</span><span class="p">,</span> <span class="n">easting</span><span class="p">,</span> <span class="n">northing</span> <span class="o">=</span> <span class="n">LLToUTM</span><span class="p">(</span><span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">,</span>
<span class="gp">... </span>                                  <span class="n">ReferenceEllipsoid</span><span class="o">=</span><span class="mi">23</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span> <span class="o">=</span> <span class="n">UTMtoLL</span><span class="p">(</span><span class="n">northing</span><span class="p">,</span> <span class="n">easting</span><span class="p">,</span> <span class="n">zone</span><span class="p">,</span>
<span class="gp">... </span>                              <span class="n">isSouthernHemisphere</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>                              <span class="n">ReferenceEllipsoid</span><span class="o">=</span><span class="mi">23</span><span class="p">)</span>
</pre></div>
</div>
<p>See <a class="reference external" href="http://www.pygps.org">http://www.pygps.org</a></p>
<dl class="function">
<dt id="Utilities.lat_long_UTM_conversion.LLtoUTM">
<code class="descname">LLtoUTM</code><span class="sig-paren">(</span><em>lat</em>, <em>long</em>, <em>reference_ellipsoid=23</em>, <em>ZoneNumber=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.lat_long_UTM_conversion.LLtoUTM" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts lat/long to UTM coords.  Equations from USGS Bulletin 1532</p>
<p>Lat and long are in decimal degrees
Written by Chuck Gantz- <a class="reference external" href="mailto:chuck&#46;gantz&#37;&#52;&#48;globalstar&#46;com">chuck<span>&#46;</span>gantz<span>&#64;</span>globalstar<span>&#46;</span>com</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Lat</strong> (<em>float</em>) – Latitude. North latitudes are positive, south
latitudes are negative.</li>
<li><strong>Lon</strong> (<em>float</em>) – longitude. East longitudes are positive, west
longitudes are negative.</li>
<li><strong>reference_ellipsoid</strong> (<em>int</em>) – Reference ellipsoid for the coordinate
system (default=23 – WGS84).</li>
<li><strong>ZoneNumber</strong> (<em>str</em>) – UTM Zone for coordinates.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Tuple of (ZoneNumber, UTMEasting, UTMNorthing)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.lat_long_UTM_conversion.UTMtoLL">
<code class="descname">UTMtoLL</code><span class="sig-paren">(</span><em>northing</em>, <em>easting</em>, <em>zone</em>, <em>isSouthernHemisphere=True</em>, <em>reference_ellipsoid=23</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.lat_long_UTM_conversion.UTMtoLL" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts UTM coords to lat/long.  Equations from USGS Bulletin 1532
East longitudes are positive, West longitudes are negative.
North latitudes are positive, South latitudes are negative
lat and long are in decimal degrees.
Written by Chuck Gantz- <a class="reference external" href="mailto:chuck&#46;gantz&#37;&#52;&#48;globalstar&#46;com">chuck<span>&#46;</span>gantz<span>&#64;</span>globalstar<span>&#46;</span>com</a>
Converted to Python by Russ Nelson &lt;<a class="reference external" href="mailto:nelson&#37;&#52;&#48;crynwr&#46;com">nelson<span>&#64;</span>crynwr<span>&#46;</span>com</a>&gt;</p>
<p>FIXME: This is set up to work for the Southern Hemisphere.</p>
<p>Using
<a class="reference external" href="http://www.ga.gov.au/geodesy/datums/redfearn_geo_to_grid.jsp">http://www.ga.gov.au/geodesy/datums/redfearn_geo_to_grid.jsp</a></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Site</span> <span class="n">Name</span><span class="p">:</span>    <span class="n">GDA</span><span class="o">-</span><span class="n">MGA</span><span class="p">:</span> <span class="p">(</span><span class="n">UTM</span> <span class="k">with</span> <span class="n">GRS80</span> <span class="n">ellipsoid</span><span class="p">)</span>
<span class="n">Zone</span><span class="p">:</span>   <span class="mi">36</span>
<span class="n">Easting</span><span class="p">:</span>  <span class="mf">511669.521</span>  <span class="n">Northing</span><span class="p">:</span> <span class="mf">19328195.112</span>
<span class="n">Latitude</span><span class="p">:</span>   <span class="mi">84</span>  <span class="mi">0</span> <span class="s1">&#39; 0.00000 &#39;&#39;  Longitude: 34  0 &#39;</span> <span class="mf">0.00000</span> <span class="s1">&#39;&#39;</span>
<span class="n">Grid</span> <span class="n">Convergence</span><span class="p">:</span>  <span class="mi">0</span>  <span class="o">-</span><span class="mi">59</span> <span class="s1">&#39; 40.28 &#39;&#39;  Point Scale: 0.99960166</span>
<span class="n">____________</span>
<span class="n">Site</span> <span class="n">Name</span><span class="p">:</span>    <span class="n">GDA</span><span class="o">-</span><span class="n">MGA</span><span class="p">:</span> <span class="p">(</span><span class="n">UTM</span> <span class="k">with</span> <span class="n">GRS80</span> <span class="n">ellipsoid</span><span class="p">)</span>
<span class="n">Zone</span><span class="p">:</span>   <span class="mi">36</span>
<span class="n">Easting</span><span class="p">:</span>  <span class="mf">519384.803</span>  <span class="n">Northing</span><span class="p">:</span> <span class="mf">1118247.585</span>
<span class="n">Latitude</span><span class="p">:</span>   <span class="o">-</span><span class="mi">80</span>  <span class="mi">0</span> <span class="s1">&#39; 0.00000 &#39;&#39;  Longitude: 34  0 &#39;</span> <span class="mf">0.00000</span> <span class="s1">&#39;&#39;</span>
<span class="n">Grid</span> <span class="n">Convergence</span><span class="p">:</span>  <span class="mi">0</span>  <span class="mi">59</span> <span class="s1">&#39; 5.32 &#39;&#39;  Point Scale: 0.99960459</span>
<span class="n">____________</span>
<span class="n">Site</span> <span class="n">Name</span><span class="p">:</span>    <span class="n">GDA</span><span class="o">-</span><span class="n">MGA</span><span class="p">:</span> <span class="p">(</span><span class="n">UTM</span> <span class="k">with</span> <span class="n">GRS80</span> <span class="n">ellipsoid</span><span class="p">)</span>
<span class="n">Zone</span><span class="p">:</span>   <span class="mi">36</span>
<span class="n">Easting</span><span class="p">:</span>  <span class="mf">611263.812</span>  <span class="n">Northing</span><span class="p">:</span> <span class="mf">10110547.106</span>
<span class="n">Latitude</span><span class="p">:</span>   <span class="mi">1</span>  <span class="mi">0</span> <span class="s1">&#39; 0.00000 &#39;&#39;  Longitude: 34  0 &#39;</span> <span class="mf">0.00000</span> <span class="s1">&#39;&#39;</span>
<span class="n">Grid</span> <span class="n">Convergence</span><span class="p">:</span>  <span class="mi">0</span>  <span class="o">-</span><span class="mi">1</span> <span class="s1">&#39; 2.84 &#39;&#39;  Point Scale: 0.99975325</span>
<span class="n">____________</span>
<span class="n">Site</span> <span class="n">Name</span><span class="p">:</span>    <span class="n">GDA</span><span class="o">-</span><span class="n">MGA</span><span class="p">:</span> <span class="p">(</span><span class="n">UTM</span> <span class="k">with</span> <span class="n">GRS80</span> <span class="n">ellipsoid</span><span class="p">)</span>
<span class="n">Zone</span><span class="p">:</span>   <span class="mi">36</span>
<span class="n">Easting</span><span class="p">:</span>  <span class="mf">611263.812</span>  <span class="n">Northing</span><span class="p">:</span> <span class="mf">9889452.894</span>
<span class="n">Latitude</span><span class="p">:</span>   <span class="o">-</span><span class="mi">1</span>  <span class="mi">0</span> <span class="s1">&#39; 0.00000 &#39;&#39;  Longitude: 34  0 &#39;</span> <span class="mf">0.00000</span> <span class="s1">&#39;&#39;</span>
<span class="n">Grid</span> <span class="n">Convergence</span><span class="p">:</span>  <span class="mi">0</span>  <span class="mi">1</span> <span class="s1">&#39; 2.84 &#39;&#39;  Point Scale: 0.99975325</span>
</pre></div>
</div>
<p>So this uses a false northing of 10000000 in the both hemispheres.
ArcGIS used a false northing of 0 in the northern hem though.
Therefore it is difficult to actually know what hemisphere you are
in.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>northing</strong> (<em>float</em>) – Northing coordinate in UTM coordinates.</li>
<li><strong>easting</strong> (<em>float</em>) – Easting coordinate in UTM coordinates</li>
<li><strong>zone</strong> (<em>int</em>) – UTM zone number.</li>
<li><strong>isSouthernHemisphere</strong> (<em>boolean</em>) – <code class="docutils literal"><span class="pre">True</span></code> if the location is in
the southern hemisphere (default).</li>
<li><strong>reference_ellipsoid</strong> (<em>int</em>) – Reference ellipsoid for the coordinate
system (default=23 – WGS84).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Tuple pair of latitude, longitude for the point.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.lmomentFit">
<span id="utilities-lmomentfit-module"></span><h2>Utilities.lmomentFit module<a class="headerlink" href="#module-Utilities.lmomentFit" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-lmomentFit">
<span id="lmomentfit-fit-gev-functions"></span><h3><a class="reference internal" href="#module-lmomentFit" title="lmomentFit: Functions translated from the LMOMENTS Fortran package for fitting a GEV function."><code class="xref py py-mod docutils literal"><span class="pre">lmomentFit</span></code></a> – fit GEV functions<a class="headerlink" href="#module-lmomentFit" title="Permalink to this headline">¶</a></h3>
<p>Two functions {pelgev, samlmu} from the LMOMENTS Fortran package
ported to Python to fit a Generalised Extreme Value Distribution
function. Original code developed by: J. R. M. HOSKING, IBM RESEARCH
DIVISION, T. J. WATSON RESEARCH CENTER, YORKTOWN HEIGHTS, NEW YORK
10598, U.S.A.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Permission to use, copy, modify and distribute this software for
any purpose and without fee is hereby granted, provided that this
copyright and permission notice appear on all copies of the
software. The name of the IBM Corporation may not be used in any
advertising or publicity pertaining to the use of the
software. IBM makes no warranty or representations about the
suitability of the software for any purpose. It is provided “AS
IS” without any express or implied warranty, including the implied
warranties of merchantability, fitness for a particular purpose
and non-infringement. IBM shall not be liable for any direct,
indirect, special or consequential damages resulting from the loss
of use, data or projects, whether in an action of contract or
tort, arising out of or in connection with the use or performance
of this software.</p>
</div>
<dl class="function">
<dt id="Utilities.lmomentFit.pelgev">
<code class="descname">pelgev</code><span class="sig-paren">(</span><em>xmom</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.lmomentFit.pelgev" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameter estimation via L-moments for the Generalised Extreme
Value Distribution. For -0.8 &lt;= TAU3 &lt; 1., K is approximated by
rational functions as in Donaldson (1996,
Commun. Statist. Simul. Comput.). If TAU3 is outside this range,
Newton-Raphson iteration is used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>xmom</strong> (List or <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – Array of length 3, containing the L-moments Lambda-1,
Lambda-2 and TAU3.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Location, scale and shape parameters of the GEV
distribution.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.lmomentFit.pelgpa">
<code class="descname">pelgpa</code><span class="sig-paren">(</span><em>xmom</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.lmomentFit.pelgpa" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameter estimation via L-moments for the Generalised Pareto
Distribution.</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.lmomentFit.samlmu">
<code class="descname">samlmu</code><span class="sig-paren">(</span><em>data</em>, <em>nmom</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.lmomentFit.samlmu" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample L-moments for a data array.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – Array of length N, containing the data in ascending order.</li>
<li><strong>nmom</strong> – Number of L-moments to be found (maximum 100).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The sample L-moments.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.lmomentFit.samlmu3">
<code class="descname">samlmu3</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.lmomentFit.samlmu3" title="Permalink to this definition">¶</a></dt>
<dd><p>Functional equivalent to lmoments.samlmu(data, 3). Vectorised for
speed but still about half speed of original fortran package.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> – Array of length N, containing the data in ascending order.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">First 3 L-moments.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.loadData">
<span id="utilities-loaddata-module"></span><h2>Utilities.loadData module<a class="headerlink" href="#module-Utilities.loadData" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-loadData">
<span id="loaddata-load-tc-track-data-from-formatted-files"></span><h3><a class="reference internal" href="#module-loadData" title="loadData: Load formatted csv file containing tropical cyclone track information"><code class="xref py py-mod docutils literal"><span class="pre">loadData</span></code></a> - load TC track data from formatted files<a class="headerlink" href="#module-loadData" title="Permalink to this headline">¶</a></h3>
<p>Load a formatted csv file that contains tropical cyclone track
information and return a collection of <code class="xref py py-class docutils literal"><span class="pre">Track</span></code> objects.</p>
<p>The format of the files is defined in a named section of the input
configuration file. See the <a class="reference internal" href="sources.html#sourceformats"><span class="std std-ref">Source Formats</span></a> section
of the User Guide for details on specifying the format.</p>
<p>TODO:
Modify the source to be a dict containing the kwargs to
<code class="xref py py-mod docutils literal"><span class="pre">numpy.genfromtxt</span></code> to make reading additional formats possible
(e.g. include converters for some data fields, as in B-deck format
track files.</p>
<dl class="function">
<dt id="Utilities.loadData.date2ymdh">
<code class="descname">date2ymdh</code><span class="sig-paren">(</span><em>dates</em>, <em>datefmt=’%Y-%m-%d %H:%M:%S’</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.loadData.date2ymdh" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert date strings to arrays for date components.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dates</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – Array of str objects that describe a date.</li>
<li><strong>datefmt</strong> (<em>str</em>) – Format string of the date values in <cite>dates</cite>,
default=’%Y-%m-%d %H:%M:%S’</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> arrays containing the year,
month, day, hour and minute of the dates contained
in the input array <cite>dates</cite>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.loadData.filterPressure">
<code class="descname">filterPressure</code><span class="sig-paren">(</span><em>pressure</em>, <em>inputPressureUnits=’hPa’</em>, <em>missingValue=2147483647</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.loadData.filterPressure" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter pressure values to remove any non-physical values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pressure</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – input pressure values to check.</li>
<li><strong>inputPressureUnits</strong> (<em>str</em>) – The units of the pressure values.
Can be one of <code class="docutils literal"><span class="pre">hPa</span></code>, <code class="docutils literal"><span class="pre">Pa</span></code>, <code class="docutils literal"><span class="pre">kPa</span></code>,
<code class="docutils literal"><span class="pre">Pascals</span></code> or <code class="docutils literal"><span class="pre">mmHg</span></code>.</li>
<li><strong>missingValue</strong> (int or float (default <code class="docutils literal"><span class="pre">sys.maxint</span></code>)) – replace all null values in the input data
with this value.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> with only valid pressure values.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.loadData.getInitialPositions">
<code class="descname">getInitialPositions</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.loadData.getInitialPositions" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the array indices corresponding to the initial position of TCs in
the input dataset. This is done through examining the data for a number
of specific fields to see when they change, or if the data has a field
that indicates such an instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>dict</em>) – <code class="xref py py-class docutils literal"><span class="pre">dict</span></code> of arrays that contains the data loaded
from the input file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of indices that can be used to slice
the observations and return those corresponding to an
initial TC position.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Using only the ‘num’ field will result in different results
than using ‘num’ and ‘season’. From experience, the ‘num’ field
in best-track datasets refers to the sequential number of the
storm for that season - i.e. it starts at 1 for each season and
increments for each new storm. The use of ‘num’ only should be
reserved for those situations where the dataset is known to
have unique numbers for each storm (e.g in simulated data).</p>
</div>
</dd></dl>

<dl class="function">
<dt id="Utilities.loadData.getMaxWind">
<code class="descname">getMaxWind</code><span class="sig-paren">(</span><em>track</em>, <em>missingValue=2147483647</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.loadData.getMaxWind" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the maximum wind speed of a <code class="xref py py-class docutils literal"><span class="pre">Track</span></code> instance</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>track</strong> – A <code class="xref py py-class docutils literal"><span class="pre">Track</span></code> instance</li>
<li><strong>missingValue</strong> (int or float (default <code class="docutils literal"><span class="pre">sys.maxint</span></code>)) – replace all null values in the input data
with this value.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">Track.trackMaxWind</span></code> attribute updated with calculated
wind speed updated.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.loadData.getMinPressure">
<code class="descname">getMinPressure</code><span class="sig-paren">(</span><em>track</em>, <em>missingValue=2147483647</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.loadData.getMinPressure" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the minimum pressure of a <code class="xref py py-class docutils literal"><span class="pre">Track</span></code> instance</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>track</strong> – A <code class="xref py py-class docutils literal"><span class="pre">Track</span></code> instance</li>
<li><strong>missingValue</strong> – Replace missing values with this value
(default <code class="docutils literal"><span class="pre">sys.maxint</span></code>).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">Track.trackMinPressure</span></code> attribute updated</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.loadData.getPoci">
<code class="descname">getPoci</code><span class="sig-paren">(</span><em>penv, pcentre, lat, jdays, eps, coeffs=[2324.1564738613392, -0.6539853183796136, -1.3984456535888878, 0.0007407292800881893, 0.004446923142934609, -1.4337623534206905], missingValue=2147483647</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.loadData.getPoci" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate a modified pressure for the outermost closed isobar, based
on a model of daily long-term mean SLP values, central pressure,
latitude and day of year.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>penv</strong> – environmental pressure estimate (from long term mean pressure
dataset, hPa).</li>
<li><strong>pcentre</strong> – Central pressure of storm (hPa).</li>
<li><strong>lat</strong> – Latitude of storm (degrees).</li>
<li><strong>jdays</strong> – Julian day (day of year).</li>
<li><strong>eps</strong> – random variate. Retained as a constant for a single storm.</li>
<li><strong>coeffs</strong> (<em>list</em>) – Coefficients of the model. Defaults based on 
Southern Hemisphere data 
(IBTrACS v03r06, 1981-2014).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Revised estimate for the pressure of outermost closed isobar.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.loadData.getSpeedBearing">
<code class="descname">getSpeedBearing</code><span class="sig-paren">(</span><em>index</em>, <em>lon</em>, <em>lat</em>, <em>deltatime</em>, <em>ieast=1</em>, <em>missingValue=2147483647</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.loadData.getSpeedBearing" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the speed and bearing of a TC.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>index</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – Array of 0/1 indicating start of new TC (1)</li>
<li><strong>lon</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – Longitudes of TC positions.</li>
<li><strong>lat</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – Latitudes of TC positions.</li>
<li><strong>deltatime</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – Time difference (hours) between
consecutive TC observations.</li>
<li><strong>ieast</strong> (<em>int</em>) – Indicate which direction has positive
longitude. 1 = positive longitude eastwards
-1 = positive longiture westwards.</li>
<li><strong>missingValue</strong> (int or float, default = <cite>sys.maxint</cite>) – Replace questionable values with <cite>missingValue</cite>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">speed and bearing : <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">speed</span><span class="p">,</span> <span class="n">bearing</span> <span class="o">=</span> <span class="n">getSpeedBearing</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">deltatime</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="Utilities.loadData.getTime">
<code class="descname">getTime</code><span class="sig-paren">(</span><em>year</em>, <em>month</em>, <em>day</em>, <em>hour</em>, <em>minute</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.loadData.getTime" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the number of days since 0001-01-01 00:00:00 UTC + 1</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>year</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> or list) – Year values.</li>
<li><strong>month</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> or list) – Month values.</li>
<li><strong>day</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> or list) – Day values.</li>
<li><strong>hour</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> or list) – Hour values.</li>
<li><strong>minute</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> or list) – Minute values.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of days since 0001-01-01 00:00:00 UTC + 1</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.loadData.getTimeDelta">
<code class="descname">getTimeDelta</code><span class="sig-paren">(</span><em>year</em>, <em>month</em>, <em>day</em>, <em>hour</em>, <em>minute</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.loadData.getTimeDelta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the time difference between consecutive observations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>year</strong> – <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of the year of all observations.</li>
<li><strong>month</strong> – As for year, but for the month of observation.</li>
<li><strong>day</strong> – As for year, but for the day of observation.</li>
<li><strong>hour</strong> – As for year, but for the hour of the observation.</li>
<li><strong>minutes</strong> – As for year, but for the hour of the observation.</li>
<li><strong>seconds</strong> – As for year, but for the hour of the observation.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of time difference between
observations in hours.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.loadData.getTimeElapsed">
<code class="descname">getTimeElapsed</code><span class="sig-paren">(</span><em>indicator</em>, <em>year</em>, <em>month</em>, <em>day</em>, <em>hour</em>, <em>minute</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.loadData.getTimeElapsed" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the age in hours of each event.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>indicator</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – Array (values of 1 or 0) indicating the beginning of
a new TC in the input dataset.</li>
<li><strong>year</strong> – <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of the year of all observations.</li>
<li><strong>month</strong> – As for year, but for the month of observation.</li>
<li><strong>day</strong> – As for year, but for the day of observation.</li>
<li><strong>hour</strong> – As for year, but for the hour of the observation.</li>
<li><strong>minutes</strong> – As for year, but for the hour of the observation.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of time since the initial observation
for each TC (in hours).</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.loadData.julianDays">
<code class="descname">julianDays</code><span class="sig-paren">(</span><em>year</em>, <em>month</em>, <em>day</em>, <em>hour</em>, <em>minute</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.loadData.julianDays" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the julian day (day of year) based on the known date/time
information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>year</strong> – <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of the year of all observations.</li>
<li><strong>month</strong> – As for year, but for the month of observation.</li>
<li><strong>day</strong> – As for year, but for the day of observation.</li>
<li><strong>hour</strong> – As for year, but for the hour of the observation.</li>
<li><strong>minute</strong> – As for year, but for the hour of the observation.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of julian day values for each
observation.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.loadData.loadTrackFile">
<code class="descname">loadTrackFile</code><span class="sig-paren">(</span><em>configFile</em>, <em>trackFile</em>, <em>source</em>, <em>missingValue=0</em>, <em>calculateWindSpeed=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.loadData.loadTrackFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Load TC track data from the given input file, from a specified source.
The configFile is a configuration file that contains a section called
‘source’ that describes the data.
This returns a collection of <code class="xref py py-class docutils literal"><span class="pre">Track</span></code> objects that contains
the details of the TC tracks in the input file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>configFile</strong> (<em>str</em>) – Configuration file with a section <code class="docutils literal"><span class="pre">source</span></code>.</li>
<li><strong>trackFile</strong> (<em>str</em>) – Path to a csv-formatted file containing TC data.</li>
<li><strong>missingValue</strong> – Replace all null values in the input data with
this value (default=0).</li>
<li><strong>calculateWindSpeed</strong> (<em>boolean</em>) – Calculate maximum wind speed using
a pressure-wind relation described
in <code class="xref py py-func docutils literal"><span class="pre">maxWindSpeed()</span></code></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Pararm str source:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">Name of the source format of the TC data. There
<em>must</em> be a section in <code class="docutils literal"><span class="pre">configFile</span></code> matching
this string, containing the details of the format
of the data.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A collection of <code class="xref py py-class docutils literal"><span class="pre">Track</span></code> objects.
If any of the variables are not present in the input
dataset, they are (where possible) calculated
(date/time/windspeed), sampled from default datasets
(e.g. environmental pressure) or set to the missing value.</p>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tracks</span> <span class="o">=</span> <span class="n">loadTrackFile</span><span class="p">(</span><span class="s1">&#39;tcrm.ini&#39;</span><span class="p">,</span> <span class="s1">&#39;IBTRaCS.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;IBTrACS&#39;</span> <span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="Utilities.loadData.ltmPressure">
<code class="descname">ltmPressure</code><span class="sig-paren">(</span><em>jdays</em>, <em>time</em>, <em>lon</em>, <em>lat</em>, <em>ncfile</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.loadData.ltmPressure" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract pressure value from a daily long-term mean SLP dataset at the
given day of year and lon,lat position
To use this function (and hence some form of daily LTM SLP data) requires
knowledge of the day of year.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>jdays</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – Julian day (day of year) values.</li>
<li><strong>time</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – Time of day for each observation (fraction of a day).</li>
<li><strong>lon</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – Longitude of TC position.</li>
<li><strong>lat</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – Latitude of TC position.</li>
<li><strong>ncfile</strong> (<em>str</em>) – Path to netCDF file containing daily long-term mean
sea level pressure data.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of long-term mean sea level pressure
values at the day of year and positions given.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.loadData.maxWindSpeed">
<code class="descname">maxWindSpeed</code><span class="sig-paren">(</span><em>index</em>, <em>deltatime</em>, <em>lon</em>, <em>lat</em>, <em>pressure</em>, <em>penv</em>, <em>gustfactor=0.9524</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.loadData.maxWindSpeed" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the 10-minute-mean maximum wind speed from the central
pressure deficit, using the method described in Holland et al. (2010).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>indicator</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – Array (values of 1 or 0) indicating the beginning of
a new TC in the input dataset.</li>
<li><strong>deltatime</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – Time difference (in hours) between each point in the
record.</li>
<li><strong>lon</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – Longitudes of TC postions.</li>
<li><strong>lat</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – Latitudes of TC positions.</li>
<li><strong>pressure</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – Central pressure estimate of TCs (hPa).</li>
<li><strong>penv</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – Environmental pressure estimates for each TC postion (hPa).</li>
<li><strong>gf</strong> (<em>float</em>) – Gust factor - default value represents converting from a
1-minute sustained wind speed to a 10-minute mean wind
speed. Based on Harper et al. 2010, WMO-TD1555.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of estimated wind speed based on
central pressure deficit.</p>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">maxWindSpeed</span><span class="p">(</span><span class="n">indicator</span><span class="p">,</span> <span class="n">dt</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">pressure</span><span class="p">,</span> <span class="n">penv</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="Utilities.loadData.parseAge">
<code class="descname">parseAge</code><span class="sig-paren">(</span><em>data</em>, <em>indicator</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.loadData.parseAge" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the TC age information to get a proxy date record. Assumes every TC
starts at 2000-01-01 00:00 and calculates year, month, day, hour and
minute values based on the age field.</p>
<p>Assumes the age is given in hours since the initial timestep.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>dict</em>) – <code class="xref py py-class docutils literal"><span class="pre">dict</span></code> of arrays that contains the data loaded
from the input file.</li>
<li><strong>indicator</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – Array (values of 1 or 0) indicating the beginning of
a new TC in the input dataset.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray`s</span> <span class="pre">of</span> <span class="pre">year,</span> <span class="pre">month,</span> <span class="pre">day,</span> <span class="pre">hour,</span> <span class="pre">minute</span>
<span class="pre">and</span> <span class="pre">:class:`datetime.datetime</span></code> objects.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.loadData.parseDates">
<code class="descname">parseDates</code><span class="sig-paren">(</span><em>data</em>, <em>indicator</em>, <em>datefmt=’%Y-%m-%d %H:%M:%S’</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.loadData.parseDates" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the date/time information to extract year, month, day, hour and
minute details for the input dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>dict</em>) – <code class="xref py py-class docutils literal"><span class="pre">dict</span></code> of arrays that contains the data loaded
from the input file.</li>
<li><strong>indicator</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – Array (values of 1 or 0) indicating the beginning of
a new TC in the input dataset.</li>
<li><strong>datefmt</strong> (<em>str</em>) – Format string of the date values in <cite>dates</cite>,
default=’%Y-%m-%d %H:%M:%S’</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray`s</span> <span class="pre">of</span> <span class="pre">year,</span> <span class="pre">month,</span> <span class="pre">day,</span> <span class="pre">hour,</span> <span class="pre">minute</span>
<span class="pre">and</span> <span class="pre">:class:`datetime.datetime</span></code> objects.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.maputils">
<span id="utilities-maputils-module"></span><h2>Utilities.maputils module<a class="headerlink" href="#module-Utilities.maputils" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-maputils">
<span id="maputils-mapping-functions"></span><h3><a class="reference internal" href="#module-maputils" title="maputils: Mapping functions."><code class="xref py py-mod docutils literal"><span class="pre">maputils</span></code></a> – mapping functions<a class="headerlink" href="#module-maputils" title="Permalink to this headline">¶</a></h3>
<p>Contains mapping functions that operate on arrays. Supercedes some of
the functions lying around in some unusual places (like DataProcess).</p>
<dl class="function">
<dt id="Utilities.maputils.bear2LatLon">
<code class="descname">bear2LatLon</code><span class="sig-paren">(</span><em>bearing</em>, <em>distance</em>, <em>oLon</em>, <em>oLat</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.maputils.bear2LatLon" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the longitude and latitude of a new point from an origin
point given a distance and bearing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bearing</strong> – Direction to new position (degrees, +ve clockwise
from north).</li>
<li><strong>distance</strong> – Distance to new position (km).</li>
<li><strong>oLon</strong> – Initial longitude.</li>
<li><strong>oLat</strong> – Initial latitude.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">new longitude and latitude (in degrees)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.maputils.bearing2theta">
<code class="descname">bearing2theta</code><span class="sig-paren">(</span><em>bearing</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.maputils.bearing2theta" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts bearing in azimuth coordinate system into theta in
cartesian coordinate system. Assumes -2*pi &lt;= bearing &lt;= 2*pi</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bearing</strong> – Bearing to convert (in radians) (+ve clockwise
from north).</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Angle in cartesian coordinate system (+ve anticlockwise
from east).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.maputils.coriolis">
<code class="descname">coriolis</code><span class="sig-paren">(</span><em>lat</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.maputils.coriolis" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the Coriolis factor (f) for a given latitude (degrees).
If a list is passed, return a list, else return a single value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lat</strong> (<em>Array-like.</em>) – Latitude (degrees).</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Coriolis factor.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.maputils.dist2GC">
<code class="descname">dist2GC</code><span class="sig-paren">(</span><em>cLon1</em>, <em>cLat1</em>, <em>cLon2</em>, <em>cLat2</em>, <em>lonArray</em>, <em>latArray</em>, <em>units=’km’</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.maputils.dist2GC" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the distance between an array of points and the great
circle joining two (other) points. All input values are in
degrees. By default returns distance in km, other units specified
by the ‘units’ kwarg.</p>
<p>Based on a cross-track error formulation from:
<a class="reference external" href="http://williams.best.vwh.net/avform.htm#XTE">http://williams.best.vwh.net/avform.htm#XTE</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cLon1</strong> (<em>float</em>) – Longitude of first point.</li>
<li><strong>cLat1</strong> (<em>float</em>) – Latitude of first point.</li>
<li><strong>cLon2</strong> (<em>float</em>) – Longitude of second point.</li>
<li><strong>cLat2</strong> (<em>float</em>) – Latitude of second point.</li>
<li><strong>lonArray</strong> – <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of longitudes for which
the distance to the line joining the two points
will be calculated.</li>
<li><strong>latArray</strong> – <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of latitudes for which the
distance to the line joining the two points will
be calculated.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">2-d array of distances between the array points and the
line joining two points.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.maputils.distGC">
<code class="descname">distGC</code><span class="sig-paren">(</span><em>lat</em>, <em>lon</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.maputils.distGC" title="Permalink to this definition">¶</a></dt>
<dd><p>Distance based on the great circle navigation between pairs of points.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lat</strong> – A pair of latitude values for the two points.</li>
<li><strong>lon</strong> – A pair of longitude values for the two points.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Distance (in kilometres) between the two points, based on
great circle navigation.</p>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dist</span> <span class="o">=</span> <span class="n">distGC</span><span class="p">([</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="o">-</span><span class="mi">40</span><span class="p">],[</span><span class="mi">120</span><span class="p">,</span><span class="mi">190</span><span class="p">])</span>
<span class="go">6914.42</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="Utilities.maputils.find_index">
<code class="descname">find_index</code><span class="sig-paren">(</span><em>array</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.maputils.find_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the index of ‘array’ with a value closest to ‘value’</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>array</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> or <cite>list</cite>.) – array of data values.</li>
<li><strong>value</strong> – a value to search <cite>array</cite> for
(or find the index of the nearest value to <cite>value</cite>).</li>
<li><strong>idx</strong> (<em>int</em>) – index of <cite>array</cite> that most closely matches
<cite>value</cite></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">ValueError if <cite>value</cite> is a <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> or
a list</p>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">find_index</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">100.</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="mf">15.25</span><span class="p">)</span>
<span class="go">30</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="Utilities.maputils.find_nearest">
<code class="descname">find_nearest</code><span class="sig-paren">(</span><em>array</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.maputils.find_nearest" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the closest value in ‘array’ to ‘value’</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>array</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – array of data values.</li>
<li><strong>value</strong> (<em>int</em><em> or </em><em>float</em>) – a value to search the array for (or find the index of the
nearest value to ‘value’</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">array[idx], where idx is the index of array that corresponds
to the value closest to ‘value’.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>ValueError</strong> – If <cite>value</cite> is a <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> or
a list.</li>
<li><strong>IndexError</strong> – If the <cite>value</cite> cannot be found in the <cite>array</cite></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">find_nearest</span><span class="p">(</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mf">100.</span><span class="p">,</span><span class="mf">0.5</span><span class="p">),</span> <span class="mf">15.25</span> <span class="p">)</span>
<span class="go">15.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="Utilities.maputils.gridLatLonBear">
<code class="descname">gridLatLonBear</code><span class="sig-paren">(</span><em>cLon</em>, <em>cLat</em>, <em>lonArray</em>, <em>latArray</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.maputils.gridLatLonBear" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a grid containing the bearing of the points defined by
(lonArray,latArray) from the point defined by (cLon,cLat).
(lonArray,latArray) and (cLon,cLat) are in degrees.
Returns bearing in radians.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cLon</strong> (<em>float</em>) – Longitude of the point to measure the distance from.</li>
<li><strong>cLat</strong> (<em>float</em>) – Latitude of the point to measure the distance from.</li>
<li><strong>lonArray</strong> – 1-d array of longitude values that will define the
grid over which distances will be calculated.</li>
<li><strong>latArray</strong> – 1-d array of latitude values that will define the
grid over which distances will be calculated.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">2-d array containing the bearing (direction) of the points
defined in <code class="docutils literal"><span class="pre">lonArray</span></code> and <code class="docutils literal"><span class="pre">latArray</span></code> from the point
(<code class="docutils literal"><span class="pre">cLon</span></code>, <code class="docutils literal"><span class="pre">cLat</span></code>)</p>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">maputils</span> <span class="k">import</span> <span class="n">gridLatLonBear</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lonArray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">90.</span><span class="p">,</span><span class="mf">100.</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">latArray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mf">20.</span><span class="p">,</span><span class="o">-</span><span class="mf">10.</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gridLatLonBear</span><span class="p">(</span> <span class="mf">105.</span><span class="p">,</span> <span class="o">-</span><span class="mf">15.</span><span class="p">,</span> <span class="n">lonArray</span><span class="p">,</span> <span class="n">latArray</span><span class="p">)</span>
<span class="go">array([[-1.94475949, -1.94659552, -1.94845671, ..., -2.36416927,</span>
<span class="go">        -2.37344337, -2.38290081],</span>
<span class="go">       [-1.93835542, -1.94015859, -1.94198663, ..., -2.35390045,</span>
<span class="go">        -2.36317282, -2.37263233],</span>
<span class="go">       [-1.93192776, -1.93369762, -1.93549204, ..., -2.34343069,</span>
<span class="go">        -2.35269718, -2.36215458],</span>
<span class="go">        ...,</span>
<span class="go">       [-1.29066433, -1.28850464, -1.28632113, ..., -0.84374983,</span>
<span class="go">        -0.83405688, -0.82416555],</span>
<span class="go">       [-1.28446304, -1.28227062, -1.28005406, ..., -0.83332654,</span>
<span class="go">        -0.82361918, -0.813717  ],</span>
<span class="go">       [-1.27828819, -1.27606348, -1.27381433, ..., -0.82310335,</span>
<span class="go">        -0.81338586, -0.80347714]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="Utilities.maputils.gridLatLonDist">
<code class="descname">gridLatLonDist</code><span class="sig-paren">(</span><em>cLon</em>, <em>cLat</em>, <em>lonArray</em>, <em>latArray</em>, <em>units=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.maputils.gridLatLonDist" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a grid containing the spherical earth distance
of the points defined by (lonarray, latarray) from the
point defined by (clon, clat).
(lonarray,latarray) and (clon,clat) are in degrees.
Returns distances in km by default, other units specified by the
‘units’ kwarg.</p>
<p>Based on m_lldist.m by Rich Pawlowicz (<a class="reference external" href="mailto:rich&#37;&#52;&#48;ocgy&#46;ubc&#46;ca">rich<span>&#64;</span>ocgy<span>&#46;</span>ubc<span>&#46;</span>ca</a>)
Modified by Craig Arthur 2006-11-13</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cLon</strong> (<em>float</em>) – Longitude of the point to measure the distance from.</li>
<li><strong>cLat</strong> (<em>float</em>) – Latitude of the point to measure the distance from.</li>
<li><strong>lonArray</strong> – 1-d array of longitude values that will define the
grid over which distances will be calculated.</li>
<li><strong>latArray</strong> – 1-d array of latitude values that will define the
grid over which distances will be calculated.</li>
<li><strong>units</strong> (<em>str</em>) – Units of distance to be returned (default is kilometre)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">2-d array containing the distance of the points defined in
<code class="docutils literal"><span class="pre">lonArray</span></code> and <code class="docutils literal"><span class="pre">latArray</span></code> from the point
(<code class="docutils literal"><span class="pre">cLon</span></code>, <code class="docutils literal"><span class="pre">cLat</span></code>).</p>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lonArray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">90.</span><span class="p">,</span><span class="mf">100.</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">latArray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mf">20.</span><span class="p">,</span><span class="o">-</span><span class="mf">10.</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dist</span> <span class="o">=</span> <span class="n">gridLatLonDist</span><span class="p">(</span> <span class="mf">105.</span><span class="p">,</span> <span class="o">-</span><span class="mf">15.</span><span class="p">,</span> <span class="n">lonArray</span><span class="p">,</span> <span class="n">latArray</span><span class="p">,</span> <span class="s1">&#39;km&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="Utilities.maputils.latLon2Azi">
<code class="descname">latLon2Azi</code><span class="sig-paren">(</span><em>lat</em>, <em>lon</em>, <em>ieast=1</em>, <em>azimuth=0</em>, <em>wantdeg=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.maputils.latLon2Azi" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the bearing and distance (in km) between consecutive
members of the array pair (lat,lon).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lat</strong> – Latitudes of positions.</li>
<li><strong>lon</strong> – Longitudes of positions.</li>
<li><strong>ieast</strong> (<em>int</em>) – 1 for longitudes increasing towards East, -1 for
longitudes increasing towards West (default 1).</li>
<li><strong>azimuth</strong> (<em>float</em>) – Local coordinate system constructed with origin at
latr,lonr, X axis (‘North’) in direction of azimuth,
and Y axis such that X x Y = Z(down)
when going from (lat,lon) to (x,y) (default 0).</li>
<li><strong>wantdeg</strong> (<em>boolean</em>) – If <code class="docutils literal"><span class="pre">True</span></code> return bearings as degrees, not radians.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">azimuth (+ve clockwise from north) and distance (in km).</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.maputils.latLon2XY">
<code class="descname">latLon2XY</code><span class="sig-paren">(</span><em>xr</em>, <em>yr</em>, <em>lat</em>, <em>lon</em>, <em>ieast=1</em>, <em>azimuth=0</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.maputils.latLon2XY" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the cartesian distance between consecutive lat,lon
points. Will bomb at North and South Poles. Assumes geographical
coordinates and azimuth in decimal degrees, local Cartesian
coordinates in km.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>xr</strong> – Reference longitude, normally 0.</li>
<li><strong>yr</strong> – Reference latitude, normally 0.</li>
<li><strong>lat</strong> – Array of latitudes.</li>
<li><strong>lon</strong> – Array of longitudes.</li>
<li><strong>ieast</strong> (<em>int</em>) – 1 if longitude increases toward the East
(normal case), -1 if longitude increases
toward the West.</li>
<li><strong>azimuth</strong> (<em>int</em>) – local coordinate system constructed with
origin at latr,lonr, X axis (‘North’) in
direction of azimuth, and Y axis such that X x
Y = Z(down) when going from (lat,lon) to (x,y)
scalar or array.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Array of northward and eastward distances between
consecutive points. use <code class="xref py py-func docutils literal"><span class="pre">xy2r()</span></code> to convert to a
distance between consecutive points.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.maputils.makeGrid">
<code class="descname">makeGrid</code><span class="sig-paren">(</span><em>cLon</em>, <em>cLat</em>, <em>margin=2</em>, <em>resolution=0.01</em>, <em>minLon=None</em>, <em>maxLon=None</em>, <em>minLat=None</em>, <em>maxLat=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.maputils.makeGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a grid of the distance and angle of a grid of points
surrounding a storm centre given the location of the storm. The
grid margin and grid size can be set in configuration
files. xMargin, yMargin and gridSize are in degrees.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cLon</strong> (<em>float</em>) – Reference longitude.</li>
<li><strong>cLat</strong> (<em>float</em>) – Reference latitude.</li>
<li><strong>margin</strong> (<em>float</em>) – Distance (in degrees) around the centre to fit the
grid.</li>
<li><strong>resolution</strong> (<em>float</em>) – Resolution of the grid (in degrees).</li>
<li><strong>minLon</strong> (<em>float</em>) – Minimum longitude of points to include in the grid.</li>
<li><strong>maxLon</strong> (<em>float</em>) – Maximum longitude of points to include in the grid.</li>
<li><strong>minLat</strong> (<em>float</em>) – Minimum latitude of points to include in the grid.</li>
<li><strong>maxLat</strong> (<em>float</em>) – Maximum latitude of points to include in the grid.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">2 2-d arrays containing the distance (km) and bearing (azimuthal)
of all points in a grid from the <code class="docutils literal"><span class="pre">cLon</span></code>, <code class="docutils literal"><span class="pre">cLat</span></code>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.maputils.makeGridDomain">
<code class="descname">makeGridDomain</code><span class="sig-paren">(</span><em>cLon</em>, <em>cLat</em>, <em>minLon</em>, <em>maxLon</em>, <em>minLat</em>, <em>maxLat</em>, <em>margin=2</em>, <em>resolution=0.01</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.maputils.makeGridDomain" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a grid of the distance and angle of a grid of points
across a complete model domain, given the location of the storm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cLon</strong> (<em>float</em>) – Reference longitude.</li>
<li><strong>cLat</strong> (<em>float</em>) – Reference latitude.</li>
<li><strong>minLon</strong> (<em>float</em>) – Minimum longitude of points to include in the grid.</li>
<li><strong>maxLon</strong> (<em>float</em>) – Maximum longitude of points to include in the grid.</li>
<li><strong>minLat</strong> (<em>float</em>) – Minimum latitude of points to include in the grid.</li>
<li><strong>maxLat</strong> (<em>float</em>) – Maximum latitude of points to include in the grid.</li>
<li><strong>margin</strong> (<em>float</em>) – Distance (in degrees) around the centre to fit the
grid.</li>
<li><strong>resolution</strong> (<em>float</em>) – Resolution of the grid (in degrees).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">2 2-d arrays containing the distance (km) and bearing (azimuthal)
of all points in a grid from the <code class="docutils literal"><span class="pre">cLon</span></code>, <code class="docutils literal"><span class="pre">cLat</span></code>, spanning the
complete region.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.maputils.meshLatLon">
<code class="descname">meshLatLon</code><span class="sig-paren">(</span><em>cLon</em>, <em>cLat</em>, <em>margin=2</em>, <em>resolution=0.01</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.maputils.meshLatLon" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a meshgrid of the longitudes and latitudes of a grid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cLon</strong> (<em>float</em>) – Longitude of centre of grid.</li>
<li><strong>cLat</strong> (<em>float</em>) – Latitude of centre of grid.</li>
<li><strong>margin</strong> (<em>float</em>) – Distance (in degrees) around the centre to
build the grid.</li>
<li><strong>resolution</strong> (<em>float</em>) – Resolution of the grid (degrees).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Coordinate matrices for the longitude and latitude
vectors, covering the region within <code class="docutils literal"><span class="pre">margin</span></code>
degrees of (<code class="docutils literal"><span class="pre">cLon</span></code>, <code class="docutils literal"><span class="pre">cLat</span></code>).</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.maputils.meshLatLonDomain">
<code class="descname">meshLatLonDomain</code><span class="sig-paren">(</span><em>minLon</em>, <em>maxLon</em>, <em>minLat</em>, <em>maxLat</em>, <em>margin=2</em>, <em>resolution=0.01</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.maputils.meshLatLonDomain" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a meshgrid of the lon/lat grid across th full model domain.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>minLon</strong> (<em>float</em>) – Minimum longitude of the domain.</li>
<li><strong>maxLon</strong> (<em>float</em>) – Maximum longitude of the domain.</li>
<li><strong>minLat</strong> (<em>float</em>) – Minimum latitude of the domain.</li>
<li><strong>maxLat</strong> (<em>float</em>) – Maximum latitude of the domain.</li>
<li><strong>margin</strong> (<em>float</em>) – Distance (in degrees) around the centre to
build the grid.</li>
<li><strong>resolution</strong> (<em>float</em>) – Resolution of the grid (degrees).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Coordinate matrices for the longitude and latitude
vectors, covering the full domain, plus an additional
margin of <code class="docutils literal"><span class="pre">margin</span></code> degrees.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.maputils.theta2bearing">
<code class="descname">theta2bearing</code><span class="sig-paren">(</span><em>theta</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.maputils.theta2bearing" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a cartesian angle (in radians) to an azimuthal bearing
(in radians). Assumes -2*pi &lt;= theta &lt;= 2*pi</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>theta</strong> – Angle in cartesian coordinate system (+ve anticlockwise
from east).</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Bearing in azimuth coordinate system (+ve clockwise
from north).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.maputils.xy2r">
<code class="descname">xy2r</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.maputils.xy2r" title="Permalink to this definition">¶</a></dt>
<dd><p>Given x and y arrays, returns the distance between consecutive
elements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – x-coordinate of points.</li>
<li><strong>y</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – y-coordinate of points.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Distance (in native units) between consecutive points.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.metutils">
<span id="utilities-metutils-module"></span><h2>Utilities.metutils module<a class="headerlink" href="#module-Utilities.metutils" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-metutils">
<span id="metutils-perform-basic-meteorological-calculations"></span><h3><a class="reference internal" href="#module-metutils" title="metutils: perform basic meteorological calculations."><code class="xref py py-mod docutils literal"><span class="pre">metutils</span></code></a> – perform basic meteorological calculations<a class="headerlink" href="#module-metutils" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="Utilities.metutils.convert">
<code class="descname">convert</code><span class="sig-paren">(</span><em>value</em>, <em>inunits</em>, <em>outunits</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.metutils.convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert value from input units to output units.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>value</strong> – Value to be converted</li>
<li><strong>inunits</strong> (<em>str</em>) – Input units.</li>
<li><strong>outunits</strong> (<em>str</em>) – Output units.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Value converted to <code class="docutils literal"><span class="pre">outunits</span></code> units.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.metutils.coriolis">
<code class="descname">coriolis</code><span class="sig-paren">(</span><em>lat</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.metutils.coriolis" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the Coriolis factor (f) for a given latitude (degrees).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lat</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> or scalar float) – Latitude (degrees).</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Coriolis factor</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> or scalar float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.metutils.dewPointToRH">
<code class="descname">dewPointToRH</code><span class="sig-paren">(</span><em>t_dry</em>, <em>t_dew</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.metutils.dewPointToRH" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate relative humidity from dry bulb and dew point (in degrees
Celsius)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>t_dry</strong> (<em>float</em>) – Dry bulb temperature (degrees Celsius).</li>
<li><strong>t_dew</strong> (<em>float</em>) – Dew point temperature (degrees Celsius).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Relative humidity (%)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.metutils.dewPointToVapPr">
<code class="descname">dewPointToVapPr</code><span class="sig-paren">(</span><em>t_dp</em>, <em>units_vp=’hPa’</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.metutils.dewPointToVapPr" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate vapour pressure from dew point temperature.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>t_dp</strong> (<em>float</em>) – Dew point temperature (degrees Celsius)</li>
<li><strong>units_vp</strong> (<em>str</em>) – Output units (default <code class="docutils literal"><span class="pre">gPressureUnits</span></code>).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Vapour pressure of water content.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.metutils.dewPointToWetBulb">
<code class="descname">dewPointToWetBulb</code><span class="sig-paren">(</span><em>T</em>, <em>Td</em>, <em>pressure</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.metutils.dewPointToWetBulb" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate wet bulb temperature from dry bulb temperature,
dew point temperature and air pressure.</p>
<p>Based on the code underpinning the form at:
<a class="reference external" href="http://www.srh.noaa.gov/epz/?n=wxcalc_dewpoint">http://www.srh.noaa.gov/epz/?n=wxcalc_dewpoint</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>T</strong> (<em>float</em>) – Dry bulb temperature (degrees Celcius).</li>
<li><strong>Td</strong> (<em>float</em>) – Dew point temperature (degrees Celcius).</li>
<li><strong>pressure</strong> (<em>float</em>) – Air pressure (hPa).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Wet bulb temperature (degrees Celcius).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
<p>TODO: Add unit tests.</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.metutils.elevToAirPr">
<code class="descname">elevToAirPr</code><span class="sig-paren">(</span><em>elev</em>, <em>units_ap=’hPa’</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.metutils.elevToAirPr" title="Permalink to this definition">¶</a></dt>
<dd><p>Approximate air pressure in hectopascals (mb) at a given elevation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>elev</strong> (<em>float</em>) – Elevation above sea level (metres).</li>
<li><strong>units_ap</strong> (<em>str</em>) – Units of air pressure (default <code class="docutils literal"><span class="pre">&quot;hPa&quot;</span></code>).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Approximate air pressure at the given elevation
in the specified or default units.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.metutils.genesisPotential">
<code class="descname">genesisPotential</code><span class="sig-paren">(</span><em>zeta</em>, <em>rh</em>, <em>vmax</em>, <em>shear</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.metutils.genesisPotential" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate genesis potential index</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.metutils.mixRatToVapPr">
<code class="descname">mixRatToVapPr</code><span class="sig-paren">(</span><em>rat</em>, <em>prs</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.metutils.mixRatToVapPr" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate vapour pressure from mixing ratio.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rat</strong> (<em>float</em>) – Mixing ratio.</li>
<li><strong>prs</strong> (<em>float</em>) – Air pressure.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Vapour pressure.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.metutils.rHToDewPoint">
<code class="descname">rHToDewPoint</code><span class="sig-paren">(</span><em>rh</em>, <em>t_dry</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.metutils.rHToDewPoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate dew point from relative humidity and dry bulb (in degrees
Celsius).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rh</strong> (<em>float</em>) – Relative humidity (%).</li>
<li><strong>t_dry</strong> (<em>float</em>) – Dry bulb temperature (degrees Celsius).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dew point temperture (degrees Celsius).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.metutils.rHToMixRat">
<code class="descname">rHToMixRat</code><span class="sig-paren">(</span><em>rh</em>, <em>tmp</em>, <em>prs</em>, <em>tmp_units=’C’</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.metutils.rHToMixRat" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate mixing ratio from relative humidity, temperature and pressure.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rh</strong> (<em>float</em>) – Relative humidity (%).</li>
<li><strong>tmp</strong> (<em>float</em>) – Temperature (any units, default degrees Celsius).</li>
<li><strong>prs</strong> (<em>float</em>) – Air pressure (hPa).</li>
<li><strong>tmp_units</strong> (<em>str</em>) – Air temperature units (default degrees Celsius).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Mixing ratio (g/kg).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.metutils.satVapPr">
<code class="descname">satVapPr</code><span class="sig-paren">(</span><em>temp</em>, <em>units_vp=’hPa’</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.metutils.satVapPr" title="Permalink to this definition">¶</a></dt>
<dd><p>Saturation vapour pressure from temperature in degrees celsius.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>temp</strong> (<em>float</em>) – Temperature (degrees celsius).</li>
<li><strong>units_vp</strong> (<em>str</em>) – Units of the vapour pressure to return.
Default is <code class="docutils literal"><span class="pre">gPressureUnits</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">saturation vapour pressure in the specified or default units.</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Calculation is in kPa with a conversion at the end to the
required units.</p>
</div>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">metutils</span> <span class="k">import</span> <span class="n">satVapPr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">satVapPr</span><span class="p">(</span><span class="mf">25.</span><span class="p">)</span>
<span class="go">31.697124349060619</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="Utilities.metutils.spHumToMixRat">
<code class="descname">spHumToMixRat</code><span class="sig-paren">(</span><em>q</em>, <em>units=’gkg’</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.metutils.spHumToMixRat" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate mixing ratio from specific humidity.
Assumes the input specific humidity variable is in units
of g/kg.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>q</strong> (<em>float</em>) – Specific humidity (any units, assumed g/kg).</li>
<li><strong>units</strong> (<em>str</em>) – Units of specific humidity, default g/kg.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Mixing ratio (kg/kg).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.metutils.spHumToRH">
<code class="descname">spHumToRH</code><span class="sig-paren">(</span><em>q</em>, <em>tmp</em>, <em>prs</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.metutils.spHumToRH" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate relative humidity from specific humidity, temperature and
pressure.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>q</strong> (<em>float</em>) – Specific humidity (g/kg).</li>
<li><strong>tmp</strong> (<em>float</em>) – Temperature (degrees Celsius).</li>
<li><strong>prs</strong> (<em>float</em>) – Air pressure (hPa).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Relative humidity (%)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.metutils.vapPrToDewPoint">
<code class="descname">vapPrToDewPoint</code><span class="sig-paren">(</span><em>vp</em>, <em>units_vp=’hPa’</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.metutils.vapPrToDewPoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate dew point from vapour pressure (in kPa)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>vp</strong> (<em>float</em>) – Input vapour pressure.</li>
<li><strong>units_vp</strong> (<em>str</em>) – Input units (default <code class="docutils literal"><span class="pre">gPressureUnits</span></code>)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dew point temperature (in degrees Kelvin)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.metutils.vapPrToMixRat">
<code class="descname">vapPrToMixRat</code><span class="sig-paren">(</span><em>es</em>, <em>prs</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.metutils.vapPrToMixRat" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate mixing ratio from vapour pressure
In this function, we (mis)use the symbol es for vapour pressure,
when it correctly represents saturation vapour pressure.
The function can be used for both.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>es</strong> (<em>float</em>) – Vapour pressure.</li>
<li><strong>prs</strong> (<em>float</em>) – Air pressure.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Mixing ratio.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.metutils.vapPrToRH">
<code class="descname">vapPrToRH</code><span class="sig-paren">(</span><em>vp</em>, <em>sat_vp</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.metutils.vapPrToRH" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate relative humidity from vapour pressure and saturated
vapour pressure.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>vp</strong> (<em>float</em>) – Vapour pressure (hPa)</li>
<li><strong>sat_vp</strong> (<em>float</em>) – Saturation vapour pressure (hPa)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Relative humidity (%)</p>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">metutils</span> <span class="k">import</span> <span class="n">vapPrToRH</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vapPrToRH</span><span class="p">(</span><span class="mf">10.</span><span class="p">,</span> <span class="mf">30.</span><span class="p">)</span>
<span class="go">33.33333333333</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="Utilities.metutils.vapPrToSpHum">
<code class="descname">vapPrToSpHum</code><span class="sig-paren">(</span><em>es</em>, <em>prs</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.metutils.vapPrToSpHum" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert vapour pressure to specific humidity.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>es</strong> (<em>float</em>) – Vapour pressure.</li>
<li><strong>prs</strong> (<em>float</em>) – Air pressure.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returs:</th><td class="field-body"><p class="first">Specific humidity.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.metutils.vapour">
<code class="descname">vapour</code><span class="sig-paren">(</span><em>temp</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.metutils.vapour" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine saturation vapour pressure, given temperature).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>temp</strong> (<em>float</em>) – Air temperature (degrees Celsius)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Saturation vapour pressure (kPa).</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.metutils.wetBulbGlobeTemp">
<code class="descname">wetBulbGlobeTemp</code><span class="sig-paren">(</span><em>t_dp</em>, <em>temp</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.metutils.wetBulbGlobeTemp" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate Wet Bulb Globe Temperature from Dew Point Temperature
and Dry Bulb Temperature (same as air temperature).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>t_dp</strong> (<em>float</em>) – Dew point temperature (degees Celsius).</li>
<li><strong>temp</strong> (<em>float</em>) – Air temperature (degrees Celsius).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Wet bulb globe temperature (degrees Celsius).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.metutils.wetBulbToDewPoint">
<code class="descname">wetBulbToDewPoint</code><span class="sig-paren">(</span><em>db</em>, <em>wb</em>, <em>elev=0</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.metutils.wetBulbToDewPoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate Dew Point from dry bulb and wet bulb temperatures.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>db</strong> (<em>float</em>) – Dry bulb temperature (degrees Celsius).</li>
<li><strong>wb</strong> (<em>float</em>) – Wet bulb temperature (degrees Celsius).</li>
<li><strong>elev</strong> (<em>float</em>) – Optional elevation of the observation (metres).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dew point temperature (degrees Kelvin).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.metutils.wetBulbToRH">
<code class="descname">wetBulbToRH</code><span class="sig-paren">(</span><em>t_db</em>, <em>t_wb</em>, <em>elev</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.metutils.wetBulbToRH" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate relative humidity from dry bulb and wet bulb temperatures,
and optional elevation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>t_db</strong> (<em>float</em>) – Dry bulb temperature (degrees Celsius).</li>
<li><strong>t_wb</strong> (<em>float</em>) – Wet bulb temperature (degrees Celsius).</li>
<li><strong>elev</strong> (<em>float</em>) – Elevation (metres).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Relative humidity (%).</p>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">metutils</span> <span class="k">import</span> <span class="n">wetBulbToRH</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wetBulbToRH</span><span class="p">(</span><span class="mf">25.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">6.747686</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wetBulbToRH</span><span class="p">(</span><span class="mf">25.</span><span class="p">,</span> <span class="mf">20.</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">63.01954</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="Utilities.metutils.wetBulbToVapPr">
<code class="descname">wetBulbToVapPr</code><span class="sig-paren">(</span><em>db</em>, <em>wb</em>, <em>elev</em>, <em>units_vp=’hPa’</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.metutils.wetBulbToVapPr" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate vapour pressure from dry bulb and wet bulb temperatures,
and optional elevation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>db</strong> (<em>float</em>) – Dry bulb temperature (degrees Celsius).</li>
<li><strong>wb</strong> (<em>float</em>) – Wet bulb temperature (degrees Celsius).</li>
<li><strong>elev</strong> (<em>float</em>) – Elevation (metres).</li>
<li><strong>units_vp</strong> (<em>str</em>) – Output units (default <code class="docutils literal"><span class="pre">gPressureUnits</span></code>)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Vapour pressure.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.nctools">
<span id="utilities-nctools-module"></span><h2>Utilities.nctools module<a class="headerlink" href="#module-Utilities.nctools" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-nctools">
<span id="nctools-netcdf-utility-functions"></span><h3><a class="reference internal" href="#module-nctools" title="nctools: This modlue contains basic utilities for manipulating netCDF format files. It relies on the netCDF4 module (https://code.google.com/p/netcdf4-python/)"><code class="xref py py-mod docutils literal"><span class="pre">nctools</span></code></a> – NetCDF utility functions<a class="headerlink" href="#module-nctools" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="Utilities.nctools.ncCreateDim">
<code class="descname">ncCreateDim</code><span class="sig-paren">(</span><em>ncobj</em>, <em>name</em>, <em>values</em>, <em>dtype</em>, <em>atts=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.nctools.ncCreateDim" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a <cite>dimension</cite> instance in a <code class="xref py py-class docutils literal"><span class="pre">netcdf4.Dataset</span></code> or <code class="xref py py-class docutils literal"><span class="pre">netcdf4.Group</span></code> instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ncobj</strong> – <code class="xref py py-class docutils literal"><span class="pre">netCDF4.Dataset</span></code> or <code class="xref py py-class docutils literal"><span class="pre">netCDF4.Group</span></code> instance.</li>
<li><strong>name</strong> (<em>str</em>) – Name of the dimension.</li>
<li><strong>values</strong> (<em>numpy.ndarray</em>) – Dimension values.</li>
<li><strong>dtype</strong> (<em>numpy.dtype</em>) – Data type of the dimension.</li>
<li><strong>atts</strong> (<em>dict</em><em> or </em><em>None</em>) – Attributes to assign to the dimension instance</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.nctools.ncCreateVar">
<code class="descname">ncCreateVar</code><span class="sig-paren">(</span><em>ncobj</em>, <em>name</em>, <em>dimensions</em>, <em>dtype</em>, <em>data=None</em>, <em>atts=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.nctools.ncCreateVar" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a <cite>Variable</cite> instance in a <code class="xref py py-class docutils literal"><span class="pre">netCDF4.Dataset</span></code> or
<code class="xref py py-class docutils literal"><span class="pre">netCDF4.Group</span></code> instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ncobj</strong> (<code class="xref py py-class docutils literal"><span class="pre">netCDF4.Dataset</span></code> or <code class="xref py py-class docutils literal"><span class="pre">netCDF4.Group</span></code>) – <code class="xref py py-class docutils literal"><span class="pre">netCDF4.Dataset</span></code> or <code class="xref py py-class docutils literal"><span class="pre">netCDF4.Group</span></code> instance where the variable will be stored.</li>
<li><strong>name</strong> (<em>str</em>) – Name of the variable to be created.</li>
<li><strong>dimensions</strong> (<em>tuple</em>) – dimension names that define the structure of the variable.</li>
<li><strong>dtype</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.dtype</span></code>) – <code class="xref py py-class docutils literal"><span class="pre">numpy.dtype</span></code> data type.</li>
<li><strong>data</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> or None.) – <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> Array holding the data to be stored.</li>
<li><strong>atts</strong> (<em>dict</em>) – Dict of attributes to assign to the variable.</li>
<li><strong>kwargs</strong> – additional keyword args passed directly to the
<code class="xref py py-class docutils literal"><span class="pre">netCDF4.Variable</span></code> constructor</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><code class="xref py py-class docutils literal"><span class="pre">netCDF4.Variable</span></code> instance</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">netCDF4.Variable</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.nctools.ncFileInfo">
<code class="descname">ncFileInfo</code><span class="sig-paren">(</span><em>filename</em>, <em>group=None</em>, <em>variable=None</em>, <em>dimension=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.nctools.ncFileInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Print summary information about a netCDF file.</p>
<p>Based on ncinfo (<a class="reference external" href="https://code.google.com/p/netcdf4-python/source/browse/trunk/utils/ncinfo">https://code.google.com/p/netcdf4-python/source/browse/trunk/utils/ncinfo</a>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> (<em>str</em>) – Path to valid netCDF file.</li>
<li><strong>group</strong> (<em>str</em>) – Name of a <cite>netCDF4.Group</cite> instance to describe.</li>
<li><strong>variable</strong> (<em>str</em>) – Name of a <cite>netCDF4.Variable</cite> instance to describe.</li>
<li><strong>dimension</strong> (<em>str</em>) – Name of a <cite>netCDF4.Dimension</cite> instance to describe.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.nctools.ncGetData">
<code class="descname">ncGetData</code><span class="sig-paren">(</span><em>ncobj</em>, <em>var</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.nctools.ncGetData" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract data values from a variable in a netCDF file.</p>
<p>Note that the variable object is a better way to manipulate
the variables, as the object includes all attributes (e.g. units,
range, long_name, etc) - use <cite>ncGetVar</cite> for that purpose.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ncobj</strong> (<code class="xref py py-class docutils literal"><span class="pre">NetCDF4.Dataset</span></code>) – <code class="xref py py-class docutils literal"><span class="pre">NetCDF4.Dataset</span></code> object.</li>
<li><strong>var</strong> (<em>str</em>) – Name of the variable in the dataset to extract.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><cite>numpy.masked_array</cite> containing the data of the variable,
with missing values masked.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><cite>numpy.ndarray</cite></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><strong>KeyError</strong> – If variable does not exist in the given file.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.nctools.ncGetDims">
<code class="descname">ncGetDims</code><span class="sig-paren">(</span><em>ncobj</em>, <em>dim</em>, <em>dtype=&lt;type ‘float’&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.nctools.ncGetDims" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the value of a dimension from a netCDF file. This function
assumes the file is written following the CF convention, with the
values of the dimension stored in a 1-d variable with the same name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ncobj</strong> (<code class="xref py py-class docutils literal"><span class="pre">netCDF4.Dataset</span></code>) – <code class="xref py py-class docutils literal"><span class="pre">netCDF4.Dataset</span></code> object</li>
<li><strong>dim</strong> (<em>str</em>) – Name of the desired dimension.</li>
<li><strong>dtype</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.dtype</span></code>) – Data type of the dimension</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of the requested dimension.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.nctools.ncGetTimes">
<code class="descname">ncGetTimes</code><span class="sig-paren">(</span><em>ncobj</em>, <em>name=’time’</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.nctools.ncGetTimes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the time data from a netcdf file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ncobj</strong> – <code class="xref py py-class docutils literal"><span class="pre">netCDF4.Dataset</span></code> or <code class="xref py py-class docutils literal"><span class="pre">netCDF4.Group</span></code> instance.</li>
<li><strong>name</strong> (<em>str</em>) – Name of the time variable.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return times:</th><td class="field-body"><p class="first">Array of time dimension values as <code class="xref py py-class docutils literal"><span class="pre">datetime</span></code> objects.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of <code class="xref py py-class docutils literal"><span class="pre">datetime</span></code> objects</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.nctools.ncGetVar">
<code class="descname">ncGetVar</code><span class="sig-paren">(</span><em>ncobj</em>, <em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.nctools.ncGetVar" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <cite>netCDF4.variable</cite> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ncobj</strong> (<code class="xref py py-class docutils literal"><span class="pre">netCDF.Group</span></code> or <code class="xref py py-class docutils literal"><span class="pre">netCDF.Dataset</span></code>) – <code class="xref py py-class docutils literal"><span class="pre">netCDF.Group</span></code> or <code class="xref py py-class docutils literal"><span class="pre">netCDF.Dataset</span></code> instance.</li>
<li><strong>name</strong> (<em>str</em>) – Name of the desired variable.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return varobj:</th><td class="field-body"><p class="first"><code class="xref py py-class docutils literal"><span class="pre">netCDF.Variable</span></code> instance</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">netCDF.Variable</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.nctools.ncLoadFile">
<code class="descname">ncLoadFile</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.nctools.ncLoadFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a netCDF file and return a <code class="xref py py-class docutils literal"><span class="pre">netCDF4.Dataset</span></code> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>str</em>) – Path to the netCDF file to open.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">netCDF4.Dataset</span></code> object</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">netCDF4.Dataset</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.nctools.ncSaveGrid">
<code class="descname">ncSaveGrid</code><span class="sig-paren">(</span><em>filename</em>, <em>dimensions</em>, <em>variables</em>, <em>nodata=-9999</em>, <em>datatitle=None</em>, <em>gatts={}</em>, <em>writedata=True</em>, <em>keepfileopen=False</em>, <em>zlib=True</em>, <em>complevel=4</em>, <em>lsd=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.nctools.ncSaveGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a gridded dataset to a netCDF file using NetCDF4.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> (<em>str</em>) – Full path to the file to write to.</li>
<li><strong>dimensions</strong> – <p><code class="xref py py-class docutils literal"><span class="pre">dict</span></code>
The input dict ‘dimensions’ has a strict structure, to
permit insertion of multiple dimensions. The dimensions should be keyed
with the slowest varying dimension as dimension 0.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">dimesions</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span>
                <span class="s1">&#39;values&#39;</span><span class="p">:</span>
                <span class="s1">&#39;dtype&#39;</span><span class="p">:</span>
                <span class="s1">&#39;atts&#39;</span><span class="p">:{</span><span class="s1">&#39;long_name&#39;</span><span class="p">:</span>
                        <span class="s1">&#39;units&#39;</span><span class="p">:</span>  <span class="o">...</span><span class="p">}</span> <span class="p">},</span>
             <span class="mi">1</span><span class="p">:{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span>
                <span class="s1">&#39;values&#39;</span><span class="p">:</span>
                <span class="s1">&#39;type&#39;</span><span class="p">:</span>
                <span class="s1">&#39;atts&#39;</span><span class="p">:{</span><span class="s1">&#39;long_name&#39;</span><span class="p">:</span>
                        <span class="s1">&#39;units&#39;</span><span class="p">:</span>  <span class="o">...</span><span class="p">}</span> <span class="p">},</span>
                      <span class="o">...</span><span class="p">}</span>
</pre></div>
</div>
</li>
<li><strong>variables</strong> – <p><code class="xref py py-class docutils literal"><span class="pre">dict</span></code>
The input dict ‘variables’ similarly requires a strict structure:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">variables</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span>
                <span class="s1">&#39;dims&#39;</span><span class="p">:</span>
                <span class="s1">&#39;values&#39;</span><span class="p">:</span>
                <span class="s1">&#39;dtype&#39;</span><span class="p">:</span>
                <span class="s1">&#39;atts&#39;</span><span class="p">:{</span><span class="s1">&#39;long_name&#39;</span><span class="p">:</span>
                        <span class="s1">&#39;units&#39;</span><span class="p">:</span>
                        <span class="o">...</span><span class="p">}</span> <span class="p">},</span>
             <span class="mi">1</span><span class="p">:{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span>
                <span class="s1">&#39;dims&#39;</span><span class="p">:</span>
                <span class="s1">&#39;values&#39;</span><span class="p">:</span>
                <span class="s1">&#39;dtype&#39;</span><span class="p">:</span>
                <span class="s1">&#39;atts&#39;</span><span class="p">:{</span><span class="s1">&#39;long_name&#39;</span><span class="p">:</span>
                        <span class="s1">&#39;units&#39;</span><span class="p">:</span>
                        <span class="o">...</span><span class="p">}</span> <span class="p">},</span>
                 <span class="o">...</span><span class="p">}</span>
</pre></div>
</div>
<p>The value for the ‘dims’ key must be a tuple that is a subset of
the dimensions specified above.</p>
</li>
<li><strong>nodata</strong> (<em>float</em>) – Value to assign to missing data, default is -9999.</li>
<li><strong>datatitle</strong> (<em>str</em>) – Optional title to give the stored dataset.</li>
<li><strong>gatts</strong> (<cite>dict</cite> or None) – Optional dictionary of global attributes to include in the file.</li>
<li><strong>dtype</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.dtype</span></code>) – The data type of the missing value. If not given, infer from other input arguments.</li>
<li><strong>writedata</strong> (<em>bool</em>) – If true, then the function will write the provided data
(passed in via the variables dict) to the file. Otherwise, no data is
written.</li>
<li><strong>keepfileopen</strong> (<em>bool</em>) – If True, return a netcdf object and keep the file open, so that data
can be written by the calling program. Otherwise, flush data to disk and close the file.</li>
<li><strong>zlib</strong> (<em>bool</em>) – If true, compresses data in variables using gzip compression.</li>
<li><strong>complevel</strong> (<em>integer</em>) – Value between 1 and 9, describing level of compression desired.
Ignored if zlib=False.</li>
<li><strong>lsd</strong> (<em>integer</em>) – Variable data will be truncated to this number of significant digits.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><cite>netCDF4.Dataset</cite> object (if keepfileopen=True)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-class docutils literal"><span class="pre">netCDF4.Dataset</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>KeyError</strong> – If input dimension or variable dicts do not have required keys.</li>
<li><strong>IOError</strong> – If output file cannot be created.</li>
<li><strong>ValueError</strong> – if there is a mismatch between dimensions and shape of values to write.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.parallel">
<span id="utilities-parallel-module"></span><h2>Utilities.parallel module<a class="headerlink" href="#module-Utilities.parallel" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-parallel">
<span id="parallel-base-parallel-processing-functions"></span><h3><a class="reference internal" href="#module-parallel" title="parallel: Provides a couple of base functions that set up a parallel processing environment."><code class="xref py py-mod docutils literal"><span class="pre">parallel</span></code></a> – base parallel processing functions<a class="headerlink" href="#module-parallel" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="Utilities.parallel.attemptParallel">
<code class="descname">attemptParallel</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.parallel.attemptParallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempt to load Pypar globally as <cite>pp</cite>.  If Pypar loads
successfully, then a call to <cite>pypar.finalize</cite> is registered to be
called at exit of the Python interpreter. This is to ensure that
MPI exits cleanly.</p>
<p>If pypar cannot be loaded then a dummy <cite>pp</cite> is created.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A pypar object - either a dummy or the real thing</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.parallel.disableOnWorkers">
<code class="descname">disableOnWorkers</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.parallel.disableOnWorkers" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator to disable function <cite>f</cite> calculation on workers.
The function will only be evaluated on the master thread.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> (<em>function</em>) – Function to be wrapped</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.pathLocator">
<span id="utilities-pathlocator-module"></span><h2>Utilities.pathLocator module<a class="headerlink" href="#module-Utilities.pathLocator" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-pathLocator">
<span id="pathlocator-determine-directory-one-level-above-the-utilites-folder"></span><h3><a class="reference internal" href="#module-pathLocator" title="pathLocator: A function to determine the directory one level above the Utilities folder. Designed to work even if the code has been compiled with py2exe.  This results in the modules being built-in to the interpreter, so the path of the executable is returned instead."><code class="xref py py-mod docutils literal"><span class="pre">pathLocator</span></code></a> – determine directory one level above the Utilites folder<a class="headerlink" href="#module-pathLocator" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="Utilities.pathLocator.getRootDirectory">
<code class="descname">getRootDirectory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.pathLocator.getRootDirectory" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the name of the path one level above the directory of this current
file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Path name one level above this.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.pathLocator.is_frozen">
<code class="descname">is_frozen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.pathLocator.is_frozen" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if modules have been built into the interpreter, e.g. by
py2exe.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>True</cite> if the modules are frozen, <cite>False</cite> otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.process">
<span id="utilities-process-module"></span><h2>Utilities.process module<a class="headerlink" href="#module-Utilities.process" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-process">
<span id="process-control-processing-of-files"></span><h3><a class="reference internal" href="#module-process" title="process: Provides functions to control processing of files. The module records details of each file processed in a text file, which can then be looked up at a later time to determin if a file has previously been processed. It uses the MD5 checksum value of the file as the primary indicator of modifications to a file."><code class="xref py py-mod docutils literal"><span class="pre">process</span></code></a> – control processing of files<a class="headerlink" href="#module-process" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="Utilities.process.pAlreadyProcessed">
<code class="descname">pAlreadyProcessed</code><span class="sig-paren">(</span><em>directory</em>, <em>filename</em>, <em>attribute</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.process.pAlreadyProcessed" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if a file has already been processed (i.e. it is stored in
GLOBAL_PROCFILES)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>directory</strong> (<em>str</em>) – Base path of the file being checked.</li>
<li><strong>filename</strong> (<em>str</em>) – Name of the file.</li>
<li><strong>attribute</strong> (<em>str</em>) – Attribute name to be checked.</li>
<li><strong>value</strong> (<em>str</em>) – Value of the attribute to be tested.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if the value matches that stored in GLOBAL_PROCFILES,
False otherwise.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">boolean</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.process.pArchiveDateFormat">
<code class="descname">pArchiveDateFormat</code><span class="sig-paren">(</span><em>date_format=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.process.pArchiveDateFormat" title="Permalink to this definition">¶</a></dt>
<dd><p>Set or get archive date format. Archived files can optionally have
a date string inserted into the filename to retain all files with
the same name, but different timestamps.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>date_format</strong> (<em>str</em>) – archive date format (if setting it)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">archive date format</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.process.pArchiveDir">
<code class="descname">pArchiveDir</code><span class="sig-paren">(</span><em>archive_dir=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.process.pArchiveDir" title="Permalink to this definition">¶</a></dt>
<dd><p>Set or get the archive directory. If setting the directory, its
existence is checked and the directory is created.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>archive_dir</strong> (<em>str</em>) – Archive directory (if setting it).</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The archive directory.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>OSError</strong> – if the directory cannot be created</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.process.pArchiveFile">
<code class="descname">pArchiveFile</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.process.pArchiveFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Move the file to the archive directory (if specified), inserting a
timestamp in the name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>str</em>) – Full path of the file to be archived.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><cite>True</cite> if the file is successfully moved, <cite>False</cite> otherwise.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.process.pArchiveTimestamp">
<code class="descname">pArchiveTimestamp</code><span class="sig-paren">(</span><em>timestamp=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.process.pArchiveTimestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Set or get archive timstamp flag. If the flag is <cite>True</cite>, then
files that are to be archived will have a timestamp inserted into
the file name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>timestamp</strong> (<em>bool</em>) – <cite>True</cite> or <cite>False</cite> (if setting it)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The value of <cite>GLOBAL_TIMESTAMP</cite></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.process.pDeleteDatFile">
<code class="descname">pDeleteDatFile</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.process.pDeleteDatFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the existing data file - defined in the <cite>GLOBAL_DATFILE</cite> variable
(list of previously-processed files).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if existing dat file successfully deleted,
False otherwise</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.process.pGetProcessedEntry">
<code class="descname">pGetProcessedEntry</code><span class="sig-paren">(</span><em>directory</em>, <em>filename</em>, <em>attribute</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.process.pGetProcessedEntry" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the value of an attribute for a file from the
GLOBAL_PROCFILES dictionary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>directory</strong> (<em>str</em>) – Path name of the file.</li>
<li><strong>filename</strong> (<em>str</em>) – File name to retrieve the details of.</li>
<li><strong>attribute</strong> (<em>str</em>) – Attribute to retrieve.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Attribute value</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.process.pGetProcessedFiles">
<code class="descname">pGetProcessedFiles</code><span class="sig-paren">(</span><em>datFileName=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.process.pGetProcessedFiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a list of processed files from a dat file. This will also
set the global <cite>GLOBAL_DATFILE</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>datFileName</strong> (<em>str</em>) – Name of a data file to read from.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if successfully read the data file, False
otherwise.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.process.pMoveFile">
<code class="descname">pMoveFile</code><span class="sig-paren">(</span><em>origin</em>, <em>destination</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.process.pMoveFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Move a single file to an archive directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>origin</strong> (<em>str</em>) – Full path of the file to be moved.</li>
<li><strong>destination</strong> (<em>str</em>) – Full path of the file destination.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><cite>True</cite> if the file is successfully moved, <cite>False</cite> otherwise.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.process.pSetProcessedEntry">
<code class="descname">pSetProcessedEntry</code><span class="sig-paren">(</span><em>directory</em>, <em>filename</em>, <em>attribute</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.process.pSetProcessedEntry" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the attribute of the given file with the given value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>directory</strong> (<em>str</em>) – Base directory of the file.</li>
<li><strong>filename</strong> (<em>str</em>) – File name.</li>
<li><strong>attribute</strong> (<em>str</em>) – Name of the file attribute to be updated.</li>
<li><strong>value</strong> (<em>str</em>) – Attribute value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.process.pWriteProcessedFile">
<code class="descname">pWriteProcessedFile</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.process.pWriteProcessedFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the various attributes of the given file to <cite>GLOBAL_DATFILE</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>str</em>) – Name of file that has been processed.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if the attributes of the file are successfully
stored in GLOBAL_PROCFILES and written to GLOBAL_DATFILE, False
otherwise.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.progressbar">
<span id="utilities-progressbar-module"></span><h2>Utilities.progressbar module<a class="headerlink" href="#module-Utilities.progressbar" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-progressbar">
<span id="progressbar-display-progress-on-stdout"></span><h3><a class="reference internal" href="#module-progressbar" title="progressbar: print a progress bar on to standard output."><code class="xref py py-mod docutils literal"><span class="pre">progressbar</span></code></a> – display progress on STDOUT<a class="headerlink" href="#module-progressbar" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="Utilities.progressbar.ProgressBar">
<em class="property">class </em><code class="descname">ProgressBar</code><span class="sig-paren">(</span><em>modname</em>, <em>showbar=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.progressbar.ProgressBar" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="Utilities.progressbar.ProgressBar.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>progress</em>, <em>startPos=0</em>, <em>endPos=1</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.progressbar.ProgressBar.update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Utilities.progressbar.SimpleProgressBar">
<em class="property">class </em><code class="descname">SimpleProgressBar</code><span class="sig-paren">(</span><em>modname</em>, <em>showbar=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.progressbar.SimpleProgressBar" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Utilities.progressbar.ProgressBar" title="Utilities.progressbar.ProgressBar"><code class="xref py py-class docutils literal"><span class="pre">Utilities.progressbar.ProgressBar</span></code></a></p>
<dl class="method">
<dt id="Utilities.progressbar.SimpleProgressBar.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>progress</em>, <em>startPos=0</em>, <em>endPos=1</em>, <em>incr=5.0</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.progressbar.SimpleProgressBar.update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.shptools">
<span id="utilities-shptools-module"></span><h2>Utilities.shptools module<a class="headerlink" href="#module-Utilities.shptools" title="Permalink to this headline">¶</a></h2>
<div class="section" id="shptools-helper-functions-for-manipulating-shape-files">
<h3><code class="xref py py-mod docutils literal"><span class="pre">shptools</span></code> - helper functions for manipulating shape files<a class="headerlink" href="#shptools-helper-functions-for-manipulating-shape-files" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="Utilities.shptools.parseData">
<code class="descname">parseData</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.shptools.parseData" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a dict of dicts to generate a list of lists describing
the fields, and an array of the corresponding data records</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>dict</em>) – a dict of dicts with field names as keys, and each
sub-dict containing keys of ‘Type’, ‘Length’,
‘Precision’ and ‘Data’.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">fields, records</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.shptools.shpCreateFile">
<code class="descname">shpCreateFile</code><span class="sig-paren">(</span><em>outputFile</em>, <em>shapes</em>, <em>data</em>, <em>shpType</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.shptools.shpCreateFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a shapefile of the give type, containing the given fields.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>outputFile</strong> (<em>str</em>) – full path (excluding extension!) to the shapefile
to create.</li>
<li><strong>shapes</strong> (<code class="xref py py-class docutils literal"><span class="pre">shapefile._Shape</span></code>) – Collection of shape objects representing the geometry of
features.</li>
<li><strong>shptype</strong> (<em>int</em>) – <code class="xref py py-class docutils literal"><span class="pre">shapefile</span></code> object type (these are integer
values, but you can also use the shapelib.SHPT value).</li>
<li><strong>fields</strong> (<em>dict</em>) – a dictionary of dictionaries with field names as
keys, and each sub-dictionary containing keys of ‘Type’,
‘Length’,’Precision’ and ‘Data’:
‘Type’ must be one of the following integer values:
0 - strings
1 - integers
2 - doubles
4 - Invalid</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-mod docutils literal"><span class="pre">shapefile.ShapefileException</span></code> if unable to write the file.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.shptools.shpGetField">
<code class="descname">shpGetField</code><span class="sig-paren">(</span><em>shape_file</em>, <em>field_name</em>, <em>dtype=&lt;type ‘float’&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.shptools.shpGetField" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract from the records the value of the field corresponding
to fieldname.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>shpFile</strong> (<em>str</em>) – path to a valid shape file</li>
<li><strong>fieldname</strong> (<em>str</em>) – name of a field in the attribute table of the
shape file (.dbf)</li>
<li><strong>dtype</strong> (<cite>dtype</cite>) – type of values in the requested field. Default is
float</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the value of the given field for each feature</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array or list (if <cite>dtype</cite> is a string)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.shptools.shpGetVertices">
<code class="descname">shpGetVertices</code><span class="sig-paren">(</span><em>shape_file</em>, <em>key_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.shptools.shpGetVertices" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary of arrays containing coordinate pairs
representing vertices contained in the shapefile.</p>
<p>Dictionary keys can either be a field contained within the
corresponding dbf file (through the optional kwarg keyName), or if
no key name is provided, the object id number (i.e. the record
number) is used.</p>
<p>WARNING:
If any records share the same value for the chosen key, then only
one record will be retained in the returned values.</p>
<p>Input:
:type  shape_file: str
:param shape_file: path to a shape file, excluding the extension</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key_name</strong> (<em>optional str</em>) – name of a field in the shape file that
acts as a key for the dictionary of returned
vertices</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">dict keyed by object id number or optionally a field
name, with values being arrays of vertices of the
corresponding shape object.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
<p>Example: vertices = shpGetVertices(‘/foo/bar/baz/shp’, ‘FIELD1’)</p>
<p>This function is retained for backwards compatibility.
We recommend using the shapefile interface directly for extracting
shapes and records.</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.shptools.shpReadShapeFile">
<code class="descname">shpReadShapeFile</code><span class="sig-paren">(</span><em>shape_file</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.shptools.shpReadShapeFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the vertices and records for the given shape file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>shape_file</strong> (<em>str</em>) – path of input shape file.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">vertices</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">records</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.shptools.shpSaveTrackFile">
<code class="descname">shpSaveTrackFile</code><span class="sig-paren">(</span><em>outputFile</em>, <em>tracks</em>, <em>fmt=’point’</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.shptools.shpSaveTrackFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Save track data to shapefile. The fields are sorted using the same
function as in shpCreateFile, so the fields should be in the correct
order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>outputFile</strong> (<em>str</em>) – name for the output shapefile, excluding extension.</li>
<li><strong>tracks</strong> (<code class="xref py py-class docutils literal"><span class="pre">Track</span></code> object) – collection of track features.</li>
<li><strong>format</strong> – Type of features to save. “point” will save each record as a
single point. “lines” will save each individual TC track as
a single (POLYLINE) feature. “segments” will save each
segment of a track to a line feature between consecutive
observations.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.shptools.shpWriteShapeFile">
<code class="descname">shpWriteShapeFile</code><span class="sig-paren">(</span><em>outputFile</em>, <em>shpType</em>, <em>fields</em>, <em>shapes</em>, <em>records</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.shptools.shpWriteShapeFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Save data to a shapefile. The fields are sorted using the same
function as in shpCreateFile, so the fields should be in the correct
order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>outputFile</strong> – A dbf file object created by shpCreateFile</li>
<li><strong>shpType</strong> – The type of features to be created.</li>
<li><strong>data</strong> (<em>dict</em>) – A dictionary of dictionaries with field names as
keys, and each sub-dictionary containing keys of ‘Type’,
‘Length’,’Precision’ and ‘Data’
‘Type’ must be one of the following integer values:
0 - strings
1 - integers
2 - doubles
4 - Invalid</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-mod docutils literal"><span class="pre">shapefile.ShapefileException</span></code> if unable to write the file.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.shptools.tracks2line">
<code class="descname">tracks2line</code><span class="sig-paren">(</span><em>tracks</em>, <em>outputFile</em>, <em>dissolve=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.shptools.tracks2line" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes tracks to a shapefile as a collection of line features</p>
<p>If dissolve==True, then each track feature is written as a
single polyline feature, otherwise each track segment is
stored as a separate feature.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tracks</strong> (list of <code class="xref py py-class docutils literal"><span class="pre">Track</span></code> objects) – <code class="xref py py-class docutils literal"><span class="pre">Track</span></code> features to store in a shape file</li>
<li><strong>outputFile</strong> (<em>str</em>) – Path to output file destination</li>
<li><strong>dissolve</strong> (<em>boolean</em>) – Store track features or track segments.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.shptools.tracks2point">
<code class="descname">tracks2point</code><span class="sig-paren">(</span><em>tracks</em>, <em>outputFile</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.shptools.tracks2point" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes tracks to a shapefile as a collection of point features</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tracks</strong> (list of <code class="xref py py-class docutils literal"><span class="pre">Track</span></code> objects) – <code class="xref py py-class docutils literal"><span class="pre">Track</span></code> features to store in a shape file</li>
<li><strong>outputFile</strong> (<em>str</em>) – Path to output file destination</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.smooth">
<span id="utilities-smooth-module"></span><h2>Utilities.smooth module<a class="headerlink" href="#module-Utilities.smooth" title="Permalink to this headline">¶</a></h2>
<div class="section" id="smooth-smooth-a-2d-field-using-a-gaussian-filter">
<h3><code class="xref py py-mod docutils literal"><span class="pre">smooth</span></code> – smooth a 2D field using a Gaussian filter<a class="headerlink" href="#smooth-smooth-a-2d-field-using-a-gaussian-filter" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="Utilities.smooth.gaussKern">
<code class="descname">gaussKern</code><span class="sig-paren">(</span><em>size</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.smooth.gaussKern" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate a normalised Gaussian kernel to apply as a smoothing
function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>size</strong> (<em>int</em>) – the size of the kernel to use (how many points will be
used in the smoothing operation).</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> normalised 2D kernel array for use in
convolutions</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.smooth.smooth">
<code class="descname">smooth</code><span class="sig-paren">(</span><em>im</em>, <em>n=15</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.smooth.smooth" title="Permalink to this definition">¶</a></dt>
<dd><p>Smooth a 2D array <cite>im</cite> by convolving with a Gaussian kernel of size <cite>n</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>im</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – Array of values to be smoothed</li>
<li><strong>n</strong> (<em>int</em>) – Number of points to include in the smoothing.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">smoothed array (same dimensions as the input array)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.stats">
<span id="utilities-stats-module"></span><h2>Utilities.stats module<a class="headerlink" href="#module-Utilities.stats" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-stats">
<span id="stats-helper-functions-for-statistical-methods"></span><h3><a class="reference internal" href="#module-stats" title="stats: Miscellaneous tools required for statistics-related classes."><code class="xref py py-mod docutils literal"><span class="pre">stats</span></code></a> – helper functions for statistical methods<a class="headerlink" href="#module-stats" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="Utilities.stats.between">
<code class="descname">between</code><span class="sig-paren">(</span><em>value</em>, <em>minval</em>, <em>maxval</em>, <em>fuzz=2</em>, <em>inclusive=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.stats.between" title="Permalink to this definition">¶</a></dt>
<dd><p>Test whether a value is within some range with some fuzziness at the edges
to allow for floating point noise.</p>
<p>The fuzziness is implemented by expanding the range at each end <cite>fuzz</cite> steps
using the numpy.nextafter function. For example, with the inputs
minval = 1, maxval = 2, and fuzz = 2; the range would be expanded to
minval = 0.99999999999999978 and maxval = 2.0000000000000009 before doing
comparisons.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>val</strong> (<em>float</em>) – Value being tested.</li>
<li><strong>minval</strong> (<em>float</em>) – Lower bound of range. Must be lower than <cite>maxval</cite>.</li>
<li><strong>maxval</strong> (<em>float</em>) – Upper bound of range. Must be higher than <cite>minval</cite>.</li>
<li><strong>fuzz</strong> (<em>int</em>) – Number of times to expand bounds using <cite>numpy.nextafter</cite>.</li>
<li><strong>inclusive</strong> (<em>boolean</em>) – Set whether endpoints are within the range.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True if <cite>val</cite> is between <cite>minval</cite> and <cite>maxval</cite>, false otherwise.</p>
</td>
</tr>
</tbody>
</table>
<p>From <a class="reference external" href="http://penandpants.com/category/python/numpy/">http://penandpants.com/category/python/numpy/</a></p>
</dd></dl>

<dl class="function">
<dt id="Utilities.stats.cdf">
<code class="descname">cdf</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.stats.cdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Cumulative Density Function extracted from cdf_lin.m</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.stats.cdf2d">
<code class="descname">cdf2d</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>z</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.stats.cdf2d" title="Permalink to this definition">¶</a></dt>
<dd><p>2D Cumulative Density Function extracted from cdf2d.m
Assumes the grid is uniformly defined, i.e. dx and dy are
constant.</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.stats.circmean">
<code class="descname">circmean</code><span class="sig-paren">(</span><em>samples</em>, <em>high=6.283185307179586</em>, <em>low=0</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.stats.circmean" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the circular mean for samples assumed to be in the range
[low to high]</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.stats.circstd">
<code class="descname">circstd</code><span class="sig-paren">(</span><em>samples</em>, <em>high=6.283185307179586</em>, <em>low=0</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.stats.circstd" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the circular standard deviation for samples assumed to be
in the range [low to high]</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.stats.circvar">
<code class="descname">circvar</code><span class="sig-paren">(</span><em>samples</em>, <em>high=6.283185307179586</em>, <em>low=0</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.stats.circvar" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the circular variance for samples assumed to be in the range
[low to high]</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.stats.getCellLonLat">
<code class="descname">getCellLonLat</code><span class="sig-paren">(</span><em>cellNum</em>, <em>gridLimit</em>, <em>gridSpace</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.stats.getCellLonLat" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the lon/lat of a given cell, based on gridLimit and gridSpace</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.stats.getCellNum">
<code class="descname">getCellNum</code><span class="sig-paren">(</span><em>lon</em>, <em>lat</em>, <em>gridLimit</em>, <em>gridSpace</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.stats.getCellNum" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cell number given longitude and latititude</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.stats.getOccurence">
<code class="descname">getOccurence</code><span class="sig-paren">(</span><em>occurList</em>, <em>indList</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.stats.getOccurence" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an array of indices corresponding to cyclone observations that</p>
</dd></dl>

<dl class="data">
<dt id="Utilities.stats.logger">
<code class="descname">logger</code><em class="property"> = &lt;logging.RootLogger object&gt;</em><a class="headerlink" href="#Utilities.stats.logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Functions:</p>
<dl class="docutils">
<dt>cdf(x,y) <span class="classifier-delimiter">:</span> <span class="classifier">1D array of float</span></dt>
<dd>Cumulative Density Function extracted from cdf_lin.m</dd>
<dt>cdf2d(x,y,z): 2D array of float</dt>
<dd>2D Cumulative Density Function extracted from cdf2d.m</dd>
<dt>getCellNum(lon, lat, gridLimit, gridSpace): int</dt>
<dd>Determine the cell number based on the lat/lon, the grid bounds
and the grid spacing.</dd>
<dt>getCellLonLat(cellNum, gridLimit, gridSpace): 2D float</dt>
<dd>Determine the lat/lon  of the northwestern corner of
cellNum</dd>
<dt>validCellNum(cellNum, gridLimit, gridSpace): boolean</dt>
<dd>Determine whether the given cell number can exist within
the bounds of the region defined by gridSpace and gridLimit</dd>
<dt>maxCellNum(gridLimit, gridSpace): int</dt>
<dd>Determine maximum cell number based on grid limits and spacing.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="Utilities.stats.maxCellNum">
<code class="descname">maxCellNum</code><span class="sig-paren">(</span><em>gridLimit</em>, <em>gridSpace</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.stats.maxCellNum" title="Permalink to this definition">¶</a></dt>
<dd><p>Get maximum cell number based on grid and grid space</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.stats.probability">
<code class="descname">probability</code><span class="sig-paren">(</span><em>return_period</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.stats.probability" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an annual probability given a return period</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.stats.rMaxDist">
<code class="descname">rMaxDist</code><span class="sig-paren">(</span><em>mean</em>, <em>sig</em>, <em>maxrad=200.</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.stats.rMaxDist" title="Permalink to this definition">¶</a></dt>
<dd><p>Based on the logarithmic distribution reported by Willoughby &amp; Rahn (2004)</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.stats.statCellFraction">
<code class="descname">statCellFraction</code><span class="sig-paren">(</span><em>gridLimit</em>, <em>gridSpace</em>, <em>valueFile</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.stats.statCellFraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the fractional value of each grid cell, based on the
values stored in valueFile.
:param dict gridLimit: Dictionary of bounds of the grid.
:param dict gridSpace: Resolution of the grid to calculate values.
:param str valueFile: Path to the ascii grid file containing values to sample.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of fractional values, with length equal to the number
of cells</td>
</tr>
</tbody>
</table>
<p>Notes: Still need to include bounds checking to ensure the valueFile
data actually covers the gridLimits.</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.stats.statMaxRange">
<code class="descname">statMaxRange</code><span class="sig-paren">(</span><em>minval</em>, <em>maxval</em>, <em>step</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.stats.statMaxRange" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the maximum value in a range
used for arranging the cells to be evenly spaced</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.stats.statMinRange">
<code class="descname">statMinRange</code><span class="sig-paren">(</span><em>minval</em>, <em>maxval</em>, <em>step</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.stats.statMinRange" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the minimum value in a range
Used for arranging the cells to be evenly spaced</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.stats.statRemoveNum">
<code class="descname">statRemoveNum</code><span class="sig-paren">(</span><em>a</em>, <em>Num=2147483647</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.stats.statRemoveNum" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all elements in an array for which value is Num</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.stats.validCellNum">
<code class="descname">validCellNum</code><span class="sig-paren">(</span><em>cellNum</em>, <em>gridLimit</em>, <em>gridSpace</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.stats.validCellNum" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether the given cell number is valid</p>
</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.tcrandom">
<span id="utilities-tcrandom-module"></span><h2>Utilities.tcrandom module<a class="headerlink" href="#module-Utilities.tcrandom" title="Permalink to this headline">¶</a></h2>
<div class="section" id="tcrandom-extended-version-of-python-s-random-library">
<h3><code class="xref py py-mod docutils literal"><span class="pre">tcrandom</span></code> – extended version of Python’s <code class="xref py py-class docutils literal"><span class="pre">random</span></code> library<a class="headerlink" href="#tcrandom-extended-version-of-python-s-random-library" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="Utilities.tcrandom.Random">
<em class="property">class </em><code class="descname">Random</code><span class="sig-paren">(</span><em>value=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.tcrandom.Random" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">random.Random</span></code></p>
<p>An extension of the standard <code class="xref py py-mod docutils literal"><span class="pre">random</span></code> library to
allow sampling from additional distributions.</p>
<dl class="method">
<dt id="Utilities.tcrandom.Random.cauchyvariate">
<code class="descname">cauchyvariate</code><span class="sig-paren">(</span><em>mu</em>, <em>sigma</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.tcrandom.Random.cauchyvariate" title="Permalink to this definition">¶</a></dt>
<dd><p>Random variate from the Cauchy distribution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mu</strong> (<em>float</em>) – Location parameter.</li>
<li><strong>sigma</strong> (<em>float</em>) – Scale parameter (σ &gt; 0)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A random variate from the Cauchy distribution.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Utilities.tcrandom.Random.logisticvariate">
<code class="descname">logisticvariate</code><span class="sig-paren">(</span><em>mu</em>, <em>sigma</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.tcrandom.Random.logisticvariate" title="Permalink to this definition">¶</a></dt>
<dd><p>Random variate from the logistic distribution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mu</strong> (<em>float</em>) – Location parameter (μ real).</li>
<li><strong>sigma</strong> (<em>float</em>) – Scale parameter (σ &gt; 0).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A random variate from the logistic distribution.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Utilities.tcrandom.Random.nctvariate">
<code class="descname">nctvariate</code><span class="sig-paren">(</span><em>df</em>, <em>nc</em>, <em>mu=0.0</em>, <em>sigma=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.tcrandom.Random.nctvariate" title="Permalink to this definition">¶</a></dt>
<dd><p>Random variate from the non-central T distribution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>df</strong> (<em>float</em>) – degrees of freedom for the distribution.</li>
<li><strong>nc</strong> (<em>float</em>) – non-centrality parameter.</li>
<li><strong>mu</strong> (<em>float</em>) – Location parameter.</li>
<li><strong>sigma</strong> (<em>float</em>) – Scale parameter.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A random variate from the non-central T distribution.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.template">
<span id="utilities-template-module"></span><h2>Utilities.template module<a class="headerlink" href="#module-Utilities.template" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-template">
<span id="template-replace-strings-with-another-value"></span><h3><a class="reference internal" href="#module-template" title="template: Read in a text file, with formatted elements and replace with strings."><code class="xref py py-mod docutils literal"><span class="pre">template</span></code></a> – replace strings with another value<a class="headerlink" href="#module-template" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="Utilities.template.replace">
<code class="descname">replace</code><span class="sig-paren">(</span><em>infile</em>, <em>outfile</em>, <em>replacements</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.template.replace" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace all instances of the keys with values in infile and w
write to outfile.</p>
<p>In the input file, keywords to be replaced should be written
as ‘{keyword}’.</p>
<p>e.g. if infile has a line containing a formatted keyword:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Input</span> <span class="o">=</span> <span class="p">{</span><span class="n">PATH</span><span class="p">}</span>
</pre></div>
</div>
<p>and <code class="docutils literal"><span class="pre">replacements</span> <span class="pre">=</span> <span class="pre">dict('PATH':</span> <span class="pre">'/foo/baz')</span></code>, then the
output file will be written as:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Input</span> <span class="o">=</span> <span class="o">/</span><span class="n">foo</span><span class="o">/</span><span class="n">baz</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>infile</strong> (<em>str</em>) – Path to an input file.</li>
<li><strong>outfile</strong> (<em>str</em>) – Destination file to be written.</li>
<li><strong>replacements</strong> (<em>dict</em>) – A set of key-value pairs that dictate
the replacements to occur in the input file.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.timeseries">
<span id="utilities-timeseries-module"></span><h2>Utilities.timeseries module<a class="headerlink" href="#module-Utilities.timeseries" title="Permalink to this headline">¶</a></h2>
<div class="section" id="timeseries-extract-timeseries-from-each-timestep-of-a-simulation">
<h3><code class="xref py py-mod docutils literal"><span class="pre">timeseries</span></code> - Extract timeseries from each timestep of a simulation<a class="headerlink" href="#timeseries-extract-timeseries-from-each-timestep-of-a-simulation" title="Permalink to this headline">¶</a></h3>
<p>Extract station timeseries from each timestep of a simulation.
This samples the regional wind speed, not the site-specific wind speed.
To include site-specific effects, you will first need to include the
multiplier values for each site in the station file, then run
tsmultipliers.py to apply said multipliers to the output.</p>
<dl class="class">
<dt id="Utilities.timeseries.Station">
<em class="property">class </em><code class="descname">Station</code><span class="sig-paren">(</span><em>stationid</em>, <em>longitude</em>, <em>latitude</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.timeseries.Station" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="Utilities.timeseries.Station.insideGrid">
<code class="descname">insideGrid</code><span class="sig-paren">(</span><em>gridx</em>, <em>gridy</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.timeseries.Station.insideGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if a point is within the defined grid</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Utilities.timeseries.Timeseries">
<em class="property">class </em><code class="descname">Timeseries</code><span class="sig-paren">(</span><em>configFile</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.timeseries.Timeseries" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Timeseries:</p>
<p>Description:</p>
<p>Parameters:
Members:
Methods:
Internal methods:</p>
<dl class="method">
<dt id="Utilities.timeseries.Timeseries.extract">
<code class="descname">extract</code><span class="sig-paren">(</span><em>dt</em>, <em>spd</em>, <em>uu</em>, <em>vv</em>, <em>prs</em>, <em>gridx</em>, <em>gridy</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.timeseries.Timeseries.extract" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract data from the grid at the given locations.
Data is stored in a dictionary, with keys as the station id’s.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tstep</strong> (<em>float</em>) – time step being evaluated, as a float (output
from matplotlib.num2date)</li>
<li><strong>spd</strong> – <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of speed values.</li>
<li><strong>uu</strong> – <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of eastward wind speed values.</li>
<li><strong>vv</strong> – <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of northward wind speed values.</li>
<li><strong>prs</strong> – <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of pressure values.</li>
<li><strong>gridx</strong> – <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of grid longitudes.</li>
<li><strong>gridy</strong> – <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of grid latitudes.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Utilities.timeseries.Timeseries.sample">
<code class="descname">sample</code><span class="sig-paren">(</span><em>lon</em>, <em>lat</em>, <em>spd</em>, <em>uu</em>, <em>vv</em>, <em>prs</em>, <em>gridx</em>, <em>gridy</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.timeseries.Timeseries.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract values from 2-dimensional grids at the given lat/lon.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lon</strong> (<em>float</em>) – Longitude of the point to extract.</li>
<li><strong>lat</strong> (<em>float</em>) – Latitude of the point to extract.</li>
<li><strong>spd</strong> – <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of speed values.</li>
<li><strong>uu</strong> – <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of eastward wind speed values.</li>
<li><strong>vv</strong> – <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of northward wind speed values.</li>
<li><strong>prs</strong> – <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of pressure values.</li>
<li><strong>gridx</strong> – <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of grid longitudes.</li>
<li><strong>gridy</strong> – <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of grid latitudes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">speed, esatward and northward wind components, and pressure
values at the given location</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Utilities.timeseries.Timeseries.shutdown">
<code class="descname">shutdown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.timeseries.Timeseries.shutdown" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the data to file, each station to a separate file.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.track">
<span id="utilities-track-module"></span><h2>Utilities.track module<a class="headerlink" href="#module-Utilities.track" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-tracks">
<span id="track-track-related-attributes-and-functions"></span><h3><code class="xref py py-mod docutils literal"><span class="pre">track</span></code> - track-related attributes and functions<a class="headerlink" href="#module-tracks" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="Utilities.track.Track">
<em class="property">class </em><code class="descname">Track</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.track.Track" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>A single tropical cyclone track.</p>
<p>The object exposes the track data through the object attributes.
For example, If <cite>data</cite> contains the tropical cyclone track data
(<cite>numpy.array</cite>) loaded with the <code class="xref py py-meth docutils literal"><span class="pre">readTrackData()</span></code> function,
then the central pressure column can be printed out with the
code:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">Track</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">CentralPressure</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>numpy.ndarray</em>) – the tropical cyclone track data.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="Utilities.track.Track.inRegion">
<code class="descname">inRegion</code><span class="sig-paren">(</span><em>gridLimit</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.track.Track.inRegion" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the tropical cyclone track falls entirely within a region.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>gridLimit</strong> (<code class="xref py py-class docutils literal"><span class="pre">dict</span></code>) – the region to check.
The <code class="xref py py-class docutils literal"><span class="pre">dict</span></code> should contain the keys
<code class="xref py py-attr docutils literal"><span class="pre">xMin</span></code>, <code class="xref py py-attr docutils literal"><span class="pre">xMax</span></code>, <code class="xref py py-attr docutils literal"><span class="pre">yMin</span></code> and
<code class="xref py py-attr docutils literal"><span class="pre">yMax</span></code>. The <em>x</em> variable bounds the
latitude and the <em>y</em> variable bounds the
longitude.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Utilities.track.Track.minimumDistance">
<code class="descname">minimumDistance</code><span class="sig-paren">(</span><em>points</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.track.Track.minimumDistance" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the minimum distance between a track and a
collection of <code class="xref py py-class docutils literal"><span class="pre">shapely.geometry.Point</span></code> points. Assumes
the points and the <code class="xref py py-attr docutils literal"><span class="pre">Longitude</span></code> and <code class="xref py py-attr docutils literal"><span class="pre">Latitude</span></code>
attributes share the same coordinate system (presumed to be
geographic coordinates).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>points</strong> – sequence of <code class="xref py py-class docutils literal"><span class="pre">shapely.geometry.Point</span></code> objects.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of minimum distances between
the set of points and the line features (in km).</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="Utilities.track.loadTracks">
<code class="descname">loadTracks</code><span class="sig-paren">(</span><em>trackfile</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.track.loadTracks" title="Permalink to this definition">¶</a></dt>
<dd><p>Read tracks from a track .nc file and return a list of <code class="xref py py-class docutils literal"><span class="pre">Track</span></code>
objects.</p>
<p>This calls the function <cite>ncReadTrackData</cite> to parse the track .nc file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>trackfile</strong> (<em>str</em>) – the track data filename.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list of <code class="xref py py-class docutils literal"><span class="pre">Track</span></code> objects.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.track.loadTracksFromFiles">
<code class="descname">loadTracksFromFiles</code><span class="sig-paren">(</span><em>trackfiles</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.track.loadTracksFromFiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator that yields <code class="xref py py-class docutils literal"><span class="pre">Track</span></code> objects from a list of track
filenames.</p>
<p>When run in parallel, the list <cite>trackfiles</cite> is distributed across the MPI
processors using the <cite>balanced</cite> function. Track files are loaded in a lazy
fashion to reduce memory consumption. The generator returns individual
tracks (recall: a trackfile can contain multiple tracks) and only moves on
to the next file once all the tracks from the current file have been
returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>trackfiles</strong> (<em>list of strings</em>) – list of track filenames. The filenames must include the
path to the file.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">TypeError if input argument is not a list.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.track.loadTracksFromPath">
<code class="descname">loadTracksFromPath</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.track.loadTracksFromPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to obtain a generator that yields <code class="xref py py-class docutils literal"><span class="pre">Track</span></code> objects
from a directory containing track .csv files.</p>
<p>This function calls <cite>loadTracksFromFiles</cite> to obtain the generator and track
filenames are processed in alphabetical order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>str</em>) – the directory path.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">IOError if the path does not exist.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.track.ncReadTrackData">
<code class="descname">ncReadTrackData</code><span class="sig-paren">(</span><em>trackfile</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.track.ncReadTrackData" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a netcdf-format track file into a collection of
<code class="xref py py-class docutils literal"><span class="pre">Track</span></code> objects. The returned <code class="xref py py-class docutils literal"><span class="pre">Track</span></code> objects <em>must</em>
have all attributes accessed by the <cite>__getattr__</cite> method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>trackfile</strong> (<em>str</em>) – track data filename (netCDF4 format).</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">track data</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of <code class="xref py py-class docutils literal"><span class="pre">Track</span></code> objects</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.track.ncSaveTracks">
<code class="descname">ncSaveTracks</code><span class="sig-paren">(</span><em>trackfile</em>, <em>tracks</em>, <em>timeunits=’hours since 1900-01-01 00:00’</em>, <em>calendar=’standard’</em>, <em>attributes={}</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.track.ncSaveTracks" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a collection of <code class="xref py py-class docutils literal"><span class="pre">Track</span></code> objects to a netCDF file. This
makes use of netCDF4 compound data types to store the data as a
structure akin to a <code class="xref py py-class docutils literal"><span class="pre">numpy.recarray</span></code>. Each track in the
collection is stored as a separate <code class="xref py py-class docutils literal"><span class="pre">netCDF4.Group</span></code> instance
in the output file.</p>
<p>The <code class="xref py py-class docutils literal"><span class="pre">Track</span></code> objects hold datetime information as an array
of <code class="xref py py-class docutils literal"><span class="pre">datetime.datetime</span></code> objects - there is no equivalent
data type in netCDF4, so the datetime information is converted to
floats using the <code class="xref py py-class docutils literal"><span class="pre">netCDF4.date2num</span></code> function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>trackfile</strong> (<em>str</em>) – Path to the file to save data to.</li>
<li><strong>tracks</strong> (<em>list</em>) – Collection of <code class="xref py py-class docutils literal"><span class="pre">Track</span></code> objects.</li>
<li><strong>timeunits</strong> (<em>str</em>) – A string of the form ‘<em>time units</em> since
<em>reference time</em>’ describing the time units.
Default is ‘hours since 1900-01-01 00:00’.</li>
<li><strong>calendar</strong> (<em>str</em>) – Calendar used for time calculations. Valid calendars
are ‘standard’, ‘gregorian’, ‘proleptic_gregorian’,
‘noleap’, ‘365_day’, ‘360_day’, ‘julian’, ‘all_leap’,
‘366_day’. Default is ‘standard’, which is a mixed
Julian/Gregorian calendar.</li>
<li><strong>attributes</strong> (<em>dict</em>) – Global attributes to add to the file.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.track.readMultipleTrackData">
<code class="descname">readMultipleTrackData</code><span class="sig-paren">(</span><em>trackfile</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.track.readMultipleTrackData" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads all the track datas from a .csv file into a list of numpy.ndarrays.
The tracks are seperated based in their cyclone id. This function calls
<cite>readTrackData</cite> to read the data from the file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>trackfile</strong> (<em>str</em>) – the track data filename.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a collection of <code class="xref py py-class docutils literal"><span class="pre">Track</span></code> objects</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.track.readTrackData">
<code class="descname">readTrackData</code><span class="sig-paren">(</span><em>trackfile</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.track.readTrackData" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a track .csv file into a numpy.ndarray.</p>
<p>The track format and converters are specified with the global variables</p>
<blockquote>
<div>TRACKFILE_COLS – The column names
TRACKFILE_FMTS – The entry formats
TRACKFILE_CNVT – The column converters</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>trackfile</strong> (<em>str</em>) – the track data filename.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">track data</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.tracks2shp">
<span id="utilities-tracks2shp-module"></span><h2>Utilities.tracks2shp module<a class="headerlink" href="#module-Utilities.tracks2shp" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-tracks2shp">
<span id="tracks2shp-save-a-track-instance-as-a-shape-file"></span><h3><a class="reference internal" href="#module-tracks2shp" title="tracks2shp: Writes track instances to a shape file as a collection of line, ployline or point features."><code class="xref py py-mod docutils literal"><span class="pre">tracks2shp</span></code></a> – save a track instance as a shape file<a class="headerlink" href="#module-tracks2shp" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="Utilities.tracks2shp.recdropfields">
<code class="descname">recdropfields</code><span class="sig-paren">(</span><em>rec</em>, <em>names</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.tracks2shp.recdropfields" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new numpy record array with fields in <em>names</em> dropped.
From <a class="reference external" href="http://matplotlib.org/api/mlab_api.html#matplotlib.mlab.rec_drop_fields">http://matplotlib.org/api/mlab_api.html#matplotlib.mlab.rec_drop_fields</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rec</strong> – <code class="xref py py-class docutils literal"><span class="pre">numpy.recarray</span></code> containing a number of fields.</li>
<li><strong>names</strong> (<em>list</em>) – List of names to drop from the record array.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A new <code class="xref py py-class docutils literal"><span class="pre">numpy.recarray</span></code> with the fields in <em>names</em>
dropped.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.tracks2shp.tracks2line">
<code class="descname">tracks2line</code><span class="sig-paren">(</span><em>tracks</em>, <em>outputFile</em>, <em>dissolve=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.tracks2shp.tracks2line" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes tracks to a shapefile as a collection of line features</p>
<p>If dissolve==True, then each track feature is written as a
single polyline feature, otherwise each track segment is
stored as a separate feature.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tracks</strong> (list of <code class="xref py py-class docutils literal"><span class="pre">Track</span></code> objects) – <code class="xref py py-class docutils literal"><span class="pre">Track</span></code> features to store in a shape file</li>
<li><strong>outputFile</strong> (<em>str</em>) – Path to output file destination</li>
<li><strong>dissolve</strong> (<em>boolean</em>) – Store track features or track segments.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-mod docutils literal"><span class="pre">shapefile.ShapefileException</span></code> if there is an error
when attempting to save the file.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.tracks2shp.tracks2point">
<code class="descname">tracks2point</code><span class="sig-paren">(</span><em>tracks</em>, <em>outputFile</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.tracks2shp.tracks2point" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes tracks to a shapefile as a collection of point features.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tracks</strong> (list of <code class="xref py py-class docutils literal"><span class="pre">Track</span></code> objects) – <code class="xref py py-class docutils literal"><span class="pre">Track</span></code> features to store in a shape file</li>
<li><strong>outputFile</strong> (<em>str</em>) – Path to output file destination</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-mod docutils literal"><span class="pre">shapefile.ShapefileException</span></code> if there is an error
when attempting to save the file.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.tsmultipliers">
<span id="utilities-tsmultipliers-module"></span><h2>Utilities.tsmultipliers module<a class="headerlink" href="#module-Utilities.tsmultipliers" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-tsmultipliers">
<span id="tsmultipliers-apply-site-exposure-multipliers-to-time-series-output"></span><h3><a class="reference internal" href="#module-tsmultipliers" title="tsmultipliers: Multiply the wind speed in a timeseries file by the appropriate multiplier values. Still a very rudimentary process."><code class="xref py py-mod docutils literal"><span class="pre">tsmultipliers</span></code></a> – apply site-exposure multipliers to time series output<a class="headerlink" href="#module-tsmultipliers" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="Utilities.tsmultipliers.process_timeseries">
<code class="descname">process_timeseries</code><span class="sig-paren">(</span><em>config_file</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.tsmultipliers.process_timeseries" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a set of timeseries files to include the multiplier values.</p>
<p>The combined multiplier values are stored in a shape file as fields,
and records are keyed by the same code that is used to select
stations for sampling.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>config_file</strong> (<em>str</em>) – Path to a configuration file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.tsmultipliers.startup">
<code class="descname">startup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.tsmultipliers.startup" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse command line arguments and call the <code class="xref py py-func docutils literal"><span class="pre">main()</span></code> function.</p>
</dd></dl>

<dl class="function">
<dt id="Utilities.tsmultipliers.tsmultiply">
<code class="descname">tsmultiply</code><span class="sig-paren">(</span><em>inputFile</em>, <em>multipliers</em>, <em>outputFile</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.tsmultipliers.tsmultiply" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply multipliers to a single file. Values are combined then written
back to the source file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>inputFile</strong> (<em>str</em>) – Path to the input timeseries file. This will need
to contain the values of the three multipliers
(topography, terrain and shielding) for each of
eight directions.</li>
<li><strong>multipliers</strong> (<em>tuple</em>) – The eight combined multiplier values for the
location.</li>
<li><strong>outputFile</strong> (<em>str</em>) – Destination for the processed file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The records corresponding to the maximum (localised) wind speed
and minimum pressure.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.version">
<span id="utilities-version-module"></span><h2>Utilities.version module<a class="headerlink" href="#module-Utilities.version" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-version">
<span id="version-provide-details-of-software-version"></span><h3><a class="reference internal" href="#module-version" title="version: Provide ways to determine the version of the currently executing code."><code class="xref py py-mod docutils literal"><span class="pre">version</span></code></a> – provide details of software version<a class="headerlink" href="#module-version" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="Utilities.version.git">
<code class="descname">git</code><span class="sig-paren">(</span><em>command</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.version.git" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute the given command with git</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>command</strong> (<em>str</em>) – A valid git command.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Output from the given command.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.version.status">
<code class="descname">status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.version.status" title="Permalink to this definition">¶</a></dt>
<dd><p>Check status TCRM of code.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A message containing a listing of recent
changes to the model code.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.version.version">
<code class="descname">version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.version.version" title="Permalink to this definition">¶</a></dt>
<dd><p>Check version of TCRM code.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Current git commit hash and the date/time
of the commit.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-mod docutils literal"><span class="pre">subprocess.CalledProcessError</span></code> if the git
command fails.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This requires <code class="docutils literal"><span class="pre">git</span></code> to be installed to execute.</p>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="module-Utilities.vorticity">
<span id="utilities-vorticity-module"></span><h2>Utilities.vorticity module<a class="headerlink" href="#module-Utilities.vorticity" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-vorticity">
<span id="vorticity-calculate-vorticity-of-a-vector-field"></span><h3><a class="reference internal" href="#module-vorticity" title="vorticity: Calculates relative or absolute vorticity of a vector field."><code class="xref py py-mod docutils literal"><span class="pre">vorticity</span></code></a> – calculate vorticity of a vector field<a class="headerlink" href="#module-vorticity" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="Utilities.vorticity.absolute">
<code class="descname">absolute</code><span class="sig-paren">(</span><em>u</em>, <em>v</em>, <em>lon</em>, <em>lat</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.vorticity.absolute" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the absolute vorticity (f + curl(u,v)) of a wind field using
a basic centred difference scheme. The centred differencing means
the returned array is reduced in size by 2 elements in each
dimension.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>u</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – 2-d array of eastward vector component.</li>
<li><strong>v</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – 2-d array of northward vector component.</li>
<li><strong>lon</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – 1-d array of longitudes of grid that defines the vector field.</li>
<li><strong>lat</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – 1-d array of latitudes of grid that defines the vector field.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">2-d <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of absolute vorticity values.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Utilities.vorticity.relative">
<code class="descname">relative</code><span class="sig-paren">(</span><em>u</em>, <em>v</em>, <em>lon</em>, <em>lat</em><span class="sig-paren">)</span><a class="headerlink" href="#Utilities.vorticity.relative" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the relative vorticity (curl(u,v)) of a wind field using
a basic centred difference scheme. The centred differencing means
the returned array is reduced in size by 2 elements in each
dimension.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>u</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – 2-d array of eastward vector component.</li>
<li><strong>v</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – 2-d array of northward vector component.</li>
<li><strong>lon</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – 1-d array of longitudes of grid that defines the vector field.</li>
<li><strong>lat</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code>) – 1-d array of latitudes of grid that defines the vector field.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">2-d <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of relative vorticity values.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/GA_0.gif" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Utilities package</a><ul>
<li><a class="reference internal" href="#module-Utilities">Module contents</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-Utilities.Intersections">Utilities.Intersections module</a><ul>
<li><a class="reference internal" href="#module-Intersections"><code class="docutils literal"><span class="pre">Intersections</span></code> – determine line intersections for polygons and lines</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.colours">Utilities.colours module</a><ul>
<li><a class="reference internal" href="#module-colours"><code class="docutils literal"><span class="pre">colours</span></code> - add custom colour scales</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.columns">Utilities.columns module</a><ul>
<li><a class="reference internal" href="#module-columns"><code class="docutils literal"><span class="pre">columns</span></code> – load delimited data files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.config">Utilities.config module</a><ul>
<li><a class="reference internal" href="#module-config"><code class="docutils literal"><span class="pre">config</span></code> – reading configuration files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.confjson">Utilities.confjson module</a></li>
<li><a class="reference internal" href="#module-Utilities.convolve">Utilities.convolve module</a><ul>
<li><a class="reference internal" href="#module-convolve"><code class="docutils literal"><span class="pre">convolve</span></code> – convolve two 2-d fields</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.datasets">Utilities.datasets module</a><ul>
<li><a class="reference internal" href="#datasets-manage-downloaded-datasets"><code class="docutils literal"><span class="pre">datasets</span></code> – manage downloaded datasets</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.files">Utilities.files module</a></li>
<li><a class="reference internal" href="#module-Utilities.grid">Utilities.grid module</a><ul>
<li><a class="reference internal" href="#grid-read-write-and-sample-ascii-grid-files"><code class="docutils literal"><span class="pre">grid</span></code> – read, write and sample ascii grid files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.interp3d">Utilities.interp3d module</a><ul>
<li><a class="reference internal" href="#module-interp3d"><code class="docutils literal"><span class="pre">interp3d</span></code> – interpolate to a set of points in 3-dimensional space</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.interpTrack">Utilities.interpTrack module</a><ul>
<li><a class="reference internal" href="#module-interpTrack"><code class="docutils literal"><span class="pre">interpTrack</span></code> – interpolate TC track to a shorter time interval</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.lat_long_UTM_conversion">Utilities.lat_long_UTM_conversion module</a><ul>
<li><a class="reference internal" href="#module-lat_long_UTM_conversion"><code class="docutils literal"><span class="pre">lat_long_UTM_conversion</span></code> – convert between geographic &amp; UTM coordinates</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.lmomentFit">Utilities.lmomentFit module</a><ul>
<li><a class="reference internal" href="#module-lmomentFit"><code class="docutils literal"><span class="pre">lmomentFit</span></code> – fit GEV functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.loadData">Utilities.loadData module</a><ul>
<li><a class="reference internal" href="#module-loadData"><code class="docutils literal"><span class="pre">loadData</span></code> - load TC track data from formatted files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.maputils">Utilities.maputils module</a><ul>
<li><a class="reference internal" href="#module-maputils"><code class="docutils literal"><span class="pre">maputils</span></code> – mapping functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.metutils">Utilities.metutils module</a><ul>
<li><a class="reference internal" href="#module-metutils"><code class="docutils literal"><span class="pre">metutils</span></code> – perform basic meteorological calculations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.nctools">Utilities.nctools module</a><ul>
<li><a class="reference internal" href="#module-nctools"><code class="docutils literal"><span class="pre">nctools</span></code> – NetCDF utility functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.parallel">Utilities.parallel module</a><ul>
<li><a class="reference internal" href="#module-parallel"><code class="docutils literal"><span class="pre">parallel</span></code> – base parallel processing functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.pathLocator">Utilities.pathLocator module</a><ul>
<li><a class="reference internal" href="#module-pathLocator"><code class="docutils literal"><span class="pre">pathLocator</span></code> – determine directory one level above the Utilites folder</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.process">Utilities.process module</a><ul>
<li><a class="reference internal" href="#module-process"><code class="docutils literal"><span class="pre">process</span></code> – control processing of files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.progressbar">Utilities.progressbar module</a><ul>
<li><a class="reference internal" href="#module-progressbar"><code class="docutils literal"><span class="pre">progressbar</span></code> – display progress on STDOUT</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.shptools">Utilities.shptools module</a><ul>
<li><a class="reference internal" href="#shptools-helper-functions-for-manipulating-shape-files"><code class="docutils literal"><span class="pre">shptools</span></code> - helper functions for manipulating shape files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.smooth">Utilities.smooth module</a><ul>
<li><a class="reference internal" href="#smooth-smooth-a-2d-field-using-a-gaussian-filter"><code class="docutils literal"><span class="pre">smooth</span></code> – smooth a 2D field using a Gaussian filter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.stats">Utilities.stats module</a><ul>
<li><a class="reference internal" href="#module-stats"><code class="docutils literal"><span class="pre">stats</span></code> – helper functions for statistical methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.tcrandom">Utilities.tcrandom module</a><ul>
<li><a class="reference internal" href="#tcrandom-extended-version-of-python-s-random-library"><code class="docutils literal"><span class="pre">tcrandom</span></code> – extended version of Python’s <code class="docutils literal"><span class="pre">random</span></code> library</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.template">Utilities.template module</a><ul>
<li><a class="reference internal" href="#module-template"><code class="docutils literal"><span class="pre">template</span></code> – replace strings with another value</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.timeseries">Utilities.timeseries module</a><ul>
<li><a class="reference internal" href="#timeseries-extract-timeseries-from-each-timestep-of-a-simulation"><code class="docutils literal"><span class="pre">timeseries</span></code> - Extract timeseries from each timestep of a simulation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.track">Utilities.track module</a><ul>
<li><a class="reference internal" href="#module-tracks"><code class="docutils literal"><span class="pre">track</span></code> - track-related attributes and functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.tracks2shp">Utilities.tracks2shp module</a><ul>
<li><a class="reference internal" href="#module-tracks2shp"><code class="docutils literal"><span class="pre">tracks2shp</span></code> – save a track instance as a shape file</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.tsmultipliers">Utilities.tsmultipliers module</a><ul>
<li><a class="reference internal" href="#module-tsmultipliers"><code class="docutils literal"><span class="pre">tsmultipliers</span></code> – apply site-exposure multipliers to time series output</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.version">Utilities.version module</a><ul>
<li><a class="reference internal" href="#module-version"><code class="docutils literal"><span class="pre">version</span></code> – provide details of software version</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-Utilities.vorticity">Utilities.vorticity module</a><ul>
<li><a class="reference internal" href="#module-vorticity"><code class="docutils literal"><span class="pre">vorticity</span></code> – calculate vorticity of a vector field</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="contributing.html"
                        title="previous chapter">Contributing code</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="glossary.html"
                        title="next chapter">Glossary</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/docs/Utilities.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="glossary.html" title="Glossary"
             >next</a> |</li>
        <li class="right" >
          <a href="contributing.html" title="Contributing code"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">TCRM User Guide</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Commonwealth of Australia (Geoscience Australia) 2017.
      Last updated on Jul 14, 2017.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.2.
    </div>
  </body>
</html>