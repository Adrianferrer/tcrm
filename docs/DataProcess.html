

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>DataProcess package &mdash; Tropical Cyclone Risk Model v2.0.2 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Tropical Cyclone Risk Model v2.0.2 documentation" href="../index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Tropical Cyclone Risk Model
          

          
            
            <img src="../_static/GA_0.gif" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setting up the model</a></li>
<li class="toctree-l1"><a class="reference internal" href="execution.html">Running the model</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="evaluation.html">Model evaluation</a></li>
<li class="toctree-l1"><a class="reference internal" href="sources.html">Using different TC databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="scenarios.html">Scenario simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to TCRM</a></li>
<li class="toctree-l1"><a class="reference internal" href="Utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LICENSE.html">License information</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Tropical Cyclone Risk Model</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>DataProcess package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/docs/DataProcess.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="dataprocess-package">
<h1>DataProcess package<a class="headerlink" href="#dataprocess-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-DataProcess.DataProcess">
<span id="dataprocess-dataprocess-module"></span><h2>DataProcess.DataProcess module<a class="headerlink" href="#module-DataProcess.DataProcess" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-DataProcess">
<span id="dataprocess-basic-processing-of-input-database"></span><h3><a class="reference internal" href="#module-DataProcess" title="DataProcess: Processes the database of historical TCs into suitably formatted text files."><code class="xref py py-mod docutils literal"><span class="pre">DataProcess</span></code></a> – basic processing of input database<a class="headerlink" href="#module-DataProcess" title="Permalink to this headline">¶</a></h3>
<p>Processes the database of historical TCs into simply formatted
text files. Extracts locations, including genesis location, and
calculates speed, bearing, genesis day (as the day of the year)
annual frequency (of the complete database), pressure rates of
change, speed rates of change and bearing rates of change.</p>
<dl class="class">
<dt id="DataProcess.DataProcess.DataProcess">
<em class="property">class </em><code class="descname">DataProcess</code><span class="sig-paren">(</span><em>configFile</em>, <em>progressbar=None</em><span class="sig-paren">)</span><a class="headerlink" href="#DataProcess.DataProcess.DataProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Processes the database of historical TCs into suitably formatted
text files.  Data is written to plain text files for ease of
access (this may be upgraded in future versions to netCDF files).
Currently extracts fields containing the value of cyclone
parameters, but no information on the change of parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>configFile</strong> (<em>str</em>) – Configuration file containing simulation settings</li>
<li><strong>progressbar</strong> (<a class="reference internal" href="Utilities.html#module-progressbar" title="progressbar: print a progress bar on to standard output."><code class="xref py py-class docutils literal"><span class="pre">progressbar</span></code></a>) – <a class="reference internal" href="Utilities.html#module-progressbar" title="progressbar: print a progress bar on to standard output."><code class="xref py py-attr docutils literal"><span class="pre">progressbar</span></code></a> object to print progress to
STDOUT</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Internal Methods:
_lonLat(lon, lat, indicator) Extract longitudes and latitudes
_bearing(bear, indicator) Extract bearings
_speed(dist, dt, indicator) Extract speeds
_pressure(pressure, indicator) Extract pressures
_pressureRate(pressure, dt, indicator) Extract rate of presssure change
_speedRate(dist, dt, indicator) Extract the acceleration (rate of change of speed)
_bearingChange(bear, dt, indicator) Extract the rate of change of bearing
_windSpeed(vmax, indicator) Extract the maximum sustained wind speed</p>
<dl class="method">
<dt id="DataProcess.DataProcess.DataProcess.extractTracks">
<code class="descname">extractTracks</code><span class="sig-paren">(</span><em>index</em>, <em>lon</em>, <em>lat</em><span class="sig-paren">)</span><a class="headerlink" href="#DataProcess.DataProcess.DataProcess.extractTracks" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract tracks that only <em>start</em> within the pre-defined domain.
The function returns the indices of the tracks that begin within
the domain.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>index</strong> (<cite>numpy.ndarray</cite>) – indicator of initial positions of TCs (1 = new TC,
0 = continuation of previous TC).</li>
<li><strong>lon</strong> (<cite>numpy.ndarray</cite>) – longitudes of TC positions</li>
<li><strong>lat</strong> (<cite>numpy.ndarray</cite>) – latitudes of TC positions</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">indices corresponding to all points of all tracks that
form within the model domain</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><cite>numpy.ndarray</cite></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="DataProcess.DataProcess.DataProcess.processData">
<code class="descname">processData</code><span class="sig-paren">(</span><em>restrictToWindfieldDomain=False</em><span class="sig-paren">)</span><a class="headerlink" href="#DataProcess.DataProcess.DataProcess.processData" title="Permalink to this definition">¶</a></dt>
<dd><p>Process raw data into ASCII files that can be read by the main
components of the system</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>restrictToWindfieldDomain</strong> (<em>bool</em>) – if True, only process data
within the wind field domain, otherwise, process data from
across the track generation domain.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-DataProcess.CalcFrequency">
<span id="dataprocess-calcfrequency-module"></span><h2>DataProcess.CalcFrequency module<a class="headerlink" href="#module-DataProcess.CalcFrequency" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-CalcFrequency">
<span id="calcfrequency-calculate-annual-genesis-frequency"></span><h3><a class="reference internal" href="#module-CalcFrequency" title="CalcFrequency: Calculate annual genesis frequency of TCs within the track generation domain."><code class="xref py py-mod docutils literal"><span class="pre">CalcFrequency</span></code></a> – Calculate annual genesis frequency<a class="headerlink" href="#module-CalcFrequency" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="DataProcess.CalcFrequency.CalcFrequency">
<em class="property">class </em><code class="descname">CalcFrequency</code><span class="sig-paren">(</span><em>configFile</em>, <em>auto_calc_grid_limit</em><span class="sig-paren">)</span><a class="headerlink" href="#DataProcess.CalcFrequency.CalcFrequency" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the annual mean frequency of TC events
based on input dataset. The frequency is calculated
for the given domain.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tg_domain</strong> (<em>dict</em>) – the domain where the tracks will be generated.
The <code class="xref py py-class docutils literal"><span class="pre">dict</span></code> should contain the keys <code class="xref py py-attr docutils literal"><span class="pre">xMin</span></code>,
<code class="xref py py-attr docutils literal"><span class="pre">xMax</span></code>, <code class="xref py py-attr docutils literal"><span class="pre">yMin</span></code> and <code class="xref py py-attr docutils literal"><span class="pre">yMax</span></code>. The <em>x</em>
variable bounds the longitude and the <em>y</em> variable bounds
the latitude.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="DataProcess.CalcFrequency.CalcFrequency.calc">
<code class="descname">calc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#DataProcess.CalcFrequency.CalcFrequency.calc" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the frequency of TC events in a pre-defined domain, based
on the input dataset and the full range of years contained in the
<code class="xref py py-attr docutils literal"><span class="pre">origin_year</span></code> file.</p>
<p>The <code class="xref py py-attr docutils literal"><span class="pre">origin_year</span></code> file is created in
<code class="xref py py-class docutils literal"><span class="pre">DataProcess.processData</span></code> and restricts the range to a
user-selected range of years.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-DataProcess.CalcTrackDomain">
<span id="dataprocess-calctrackdomain-module"></span><h2>DataProcess.CalcTrackDomain module<a class="headerlink" href="#module-DataProcess.CalcTrackDomain" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-CalcTrackDomain">
<span id="calctrackdomain-calculate-track-generation-domain"></span><h3><a class="reference internal" href="#module-CalcTrackDomain" title="CalcTrackDomain: Determine track generator domain, ensuring it encompasses all tracks entering the windfield generator domain."><code class="xref py py-mod docutils literal"><span class="pre">CalcTrackDomain</span></code></a> - calculate track generation domain<a class="headerlink" href="#module-CalcTrackDomain" title="Permalink to this headline">¶</a></h3>
<p>Determine track generator domain, ensuring it encompasses
all tracks entering the windfield generator domain.</p>
<p>CreationDate: 2010-03-23</p>
<dl class="class">
<dt id="DataProcess.CalcTrackDomain.CalcTrackDomain">
<em class="property">class </em><code class="descname">CalcTrackDomain</code><span class="sig-paren">(</span><em>configFile</em><span class="sig-paren">)</span><a class="headerlink" href="#DataProcess.CalcTrackDomain.CalcTrackDomain" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Calculate the extents over which tracks will be generated.</p>
<p>Based on the user-selected wind field domain, examine the input dataset
and identify the maximal extent covering all TCs that enter the wind
field domain. This sets the domain over which synthetic TCs will be
generated by teh TrackGenerator module.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>configFile</strong> (<em>string</em>) – Configuration file containing simulation settings</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="DataProcess.CalcTrackDomain.CalcTrackDomain.calc">
<code class="descname">calc</code><span class="sig-paren">(</span><em>index</em>, <em>lons</em>, <em>lats</em><span class="sig-paren">)</span><a class="headerlink" href="#DataProcess.CalcTrackDomain.CalcTrackDomain.calc" title="Permalink to this definition">¶</a></dt>
<dd><p>Core function for determining track generation domain</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>index</strong> – <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of values indicating the start
of a new TC track (1), zero otherwise</li>
<li><strong>lons</strong> – <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> representing the longitude of all
TC positions</li>
<li><strong>lats</strong> – <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> representing the latitude of all
TC positions</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="DataProcess.CalcTrackDomain.CalcTrackDomain.calcDomainFromFile">
<code class="descname">calcDomainFromFile</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#DataProcess.CalcTrackDomain.CalcTrackDomain.calcDomainFromFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate track generation domain, using a file as the input source</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the domain where the tracks will be generated.
The <code class="xref py py-class docutils literal"><span class="pre">dict</span></code> should contain the keys <code class="xref py py-attr docutils literal"><span class="pre">xMin</span></code>,
<code class="xref py py-attr docutils literal"><span class="pre">xMax</span></code>, <code class="xref py py-attr docutils literal"><span class="pre">yMin</span></code> and <code class="xref py py-attr docutils literal"><span class="pre">yMax</span></code>. The <em>x</em>
variable bounds the longitude and the <em>y</em> variable
bounds the latitude.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="DataProcess.CalcTrackDomain.CalcTrackDomain.calcDomainFromTracks">
<code class="descname">calcDomainFromTracks</code><span class="sig-paren">(</span><em>index</em>, <em>lons</em>, <em>lats</em><span class="sig-paren">)</span><a class="headerlink" href="#DataProcess.CalcTrackDomain.CalcTrackDomain.calcDomainFromTracks" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate track generation domain from input track details</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>index</strong> – <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> of values indicating the start
of a new TC track (1), zero otherwise</li>
<li><strong>lons</strong> – <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> representing the longitude of all
TC positions</li>
<li><strong>lats</strong> – <code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code> representing the latitude of all
TC positions</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">dict</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the domain where the tracks will be generated.
The <code class="xref py py-class docutils literal"><span class="pre">dict</span></code> should contain the keys <code class="xref py py-attr docutils literal"><span class="pre">xMin</span></code>,
<code class="xref py py-attr docutils literal"><span class="pre">xMax</span></code>, <code class="xref py py-attr docutils literal"><span class="pre">yMin</span></code> and <code class="xref py py-attr docutils literal"><span class="pre">yMax</span></code>. The <em>x</em>
variable bounds the longitude and the <em>y</em> variable
bounds the latitude.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Commonwealth of Australia (Geoscience Australia) 2017.
      Last updated on Oct 19, 2017.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'v2.0.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>